

local PLACE_ID = game.PlaceId






    local Players = game:GetService("Players")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Workspace = game:GetService("Workspace")
    local RunService = game:GetService("RunService")
    local VirtualInputManager = game:GetService("VirtualInputManager")

    local Player = Players.LocalPlayer
    local Character = Player.Character or Player.CharacterAdded:Wait()
    local HRP = Character:WaitForChild("HumanoidRootPart")
    -- ‚≠ê‚≠ê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ‚≠ê‚≠ê
local lastProgressCheck = tick()
local lastTotalProgress = 0
local lastEggCheck = tick()
local lastEggProgress = 0


    local WORLD_ORDER = {

        "Lobby",
        "Grassland",
        "Jungle",
        "Volcano",
        "Tundra",
        "Ocean",
        "Desert",
        "Fantasy",
        "Toxic",
        "Prehistoric",
        "Shinrin"
    }

    local WORLD_IDS = {

        Lobby      = 3475397644,
        Grassland    = 3475419198,
        Jungle       = 3475422608,
        Volcano      = 3487210751,
        Tundra       = 3623549100,
        Ocean        = 3737848045,
        Desert       = 3752680052,
        Fantasy      = 4174118306,
        Toxic    = 4728805070,
        Prehistoric  = 4869039553,
        Shinrin      = 125804922932357
    }
--------------------------
-- üåç ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏•‡∏Å‡πÅ‡∏ö‡∏ö‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° PlaceId
------------------------------------------------------------
local WORLD_MISSION_REQUIREMENTS = {


    [3475397644] = { -- Origins / Lobby
        WorldName = "Lobby",
        Missions = {
        EggQuest    = 1,
        RidingRing  = 10,
        }
    },

    [3475419198] = { -- Grassland
        WorldName = "Grassland",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
        }
    },

    [3475422608] = { -- Jungle
        WorldName = "Jungle",
        Missions = {
       EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },


  [3487210751] = { -- Volcano
        WorldName = "Volcano",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },

    [3623549100] = { -- Volcano
        WorldName = "Tundra",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },



     [3737848045] = { -- Volcano
        WorldName = "Ocean",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [3752680052] = { -- Volcano
        WorldName = "Desert",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [4174118306] = { -- Volcano
        WorldName = "Fantasy",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [4728805070] = { -- Volcano
        WorldName = "Toxic",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [4869039553] = { -- Volcano
        WorldName = "Prehistoric",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [125804922932357] = { -- Volcano
        WorldName = "Shinrin",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
}
task.spawn(function()
    while true do
        task.wait(5) -- ‡πÑ‡∏°‡πà‡∏ñ‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
        pcall(function()
            local args = {"1"}
            game:GetService("ReplicatedStorage").Remotes.EquipDragonRemote:InvokeServer(unpack(args))
        end)
    end
end)

------------------------------------------------------------
-- ü•ö Anti-Stuck ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà ‚Üí 2 ‡∏ô‡∏≤‡∏ó‡∏µ‡πÑ‡∏°‡πà‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤ = Hop ‡∏¢‡πâ‡∏≠‡∏ô‡πÇ‡∏•‡∏Å
------------------------------------------------------------
task.spawn(function()
    while true do
        task.wait(5)

        -- ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
        if not isEggDone() then
            local currentProg = getMissionValue("EggQuest")

            -- ‡∏ñ‡πâ‡∏≤ progress ‡∏Ç‡∏¢‡∏±‡∏ö ‚Üí ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏ß‡∏•‡∏≤
            if currentProg > lastEggProgress then
                lastEggProgress = currentProg
                lastEggCheck = tick()

            else
                -- ‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö‡πÄ‡∏•‡∏¢ ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏£‡∏ö 120 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                if tick() - lastEggCheck >= 120 then
                    print("‚õî [EGG ANTI-STUCK] ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏¢‡πâ‡∏≠‡∏ô‡πÇ‡∏•‡∏Å")
                    hopToPreviousWorld()

                    -- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤
                    lastEggCheck = tick()
                end
            end
        else
            -- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï timer
            lastEggProgress = getMissionValue("EggQuest")
            lastEggCheck = tick()
        end
    end
end)




local function hasNestPath()
    local env = workspace:FindFirstChild("Environment")
    if not env then return false end

    local nest = env:FindFirstChild("Nest")
    if not nest then return false end

    local egg = nest:FindFirstChild("Egg") or nest:FindFirstChild("EggModel")
    return egg ~= nil
end

local function getTotalMissionProgress()
    local placeId = game.PlaceId
    local config = WORLD_MISSION_REQUIREMENTS[placeId]
    if not config then return 0 end

    local worldName = config.WorldName
    local missions = config.Missions

    local sum = 0
    for missionName, _ in pairs(missions) do
        local ok, value = pcall(function()
            return Player.Data.WorldMissions[worldName].Missions[missionName].Progress.Value
        end)
        sum += (ok and value or 0)
    end

    return sum
end
local function isWorldFullyCompletedById(placeId)
    local config = WORLD_MISSION_REQUIREMENTS[placeId]
    if not config then
        warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ:", placeId)
        return false
    end

    local worldName = config.WorldName

    local ok, result = pcall(function()
        -- ‚úÖ ‡πÄ‡∏ä‡πá‡∏Ñ TotalCompleted ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å
        local worldData = Player.Data.WorldMissions[worldName]
        local totalCompletedValue = worldData:FindFirstChild("TotalCompleted")

        if totalCompletedValue then
            local requiredTotal = 0

            -- üåç ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ TotalCompleted ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏•‡∏Å
            if placeId == 3475397644 then
                requiredTotal = 2  -- Lobby
            elseif placeId == 3475419198 then
                requiredTotal = 4  -- Grassland
            else
                requiredTotal = 6  -- ‡πÇ‡∏•‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠
            end

            -- ‚≠ê ‡∏ñ‡πâ‡∏≤ TotalCompleted ‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
            if totalCompletedValue.Value >= requiredTotal then
                print(string.format("‚úÖ %s TotalCompleted = %d/%d (‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏Ç‡πâ‡∏≤‡∏°)", 
                    worldName, totalCompletedValue.Value, requiredTotal))
                return true
            else
                print(string.format("‚ö†Ô∏è %s TotalCompleted = %d/%d (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™)", 
                    worldName, totalCompletedValue.Value, requiredTotal))
                return false
            end
        else
            warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö TotalCompleted ‡πÉ‡∏ô‡πÇ‡∏•‡∏Å:", worldName)
            -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ TotalCompleted ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°
            local missionFolder = worldData.Missions
            local missionList = config.Missions

            for missionName, required in pairs(missionList) do
                local mission = missionFolder:FindFirstChild(missionName)
                if mission and mission:FindFirstChild("Progress") then
                    if mission.Progress.Value < required then
                        return false
                    end
                end
            end

            return true
        end
    end)

    if not ok then
        warn("‚ö†Ô∏è ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", worldName, result)
        return false
    end

    return result
end
local function getNextUnfinishedWorld()
    for _, worldName in ipairs(WORLD_ORDER) do
        local placeId = WORLD_IDS[worldName]

        if WORLD_MISSION_REQUIREMENTS[placeId] then
            if not isWorldFullyCompletedById(placeId) then
                return worldName, placeId
            end
        end
    end

    return nil, nil
end
local function teleportToNextNeededWorld()
    local nextWorldName, nextPlaceId = getNextUnfinishedWorld()

    if not nextWorldName then
        print("üéâ ‡∏ó‡∏∏‡∏Å‡πÇ‡∏•‡∏Å‡∏ó‡∏≥‡∏Ñ‡∏£‡∏ö‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß!")
        return
    end

    print("üåç ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ:", nextWorldName, "‚Üí", nextPlaceId)

    -- üëá ‡πÉ‡∏ä‡πâ Remote ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
    local args = {
        nextPlaceId,
        {}
    }

    local ok, result = pcall(function()
        return ReplicatedStorage.Remotes.WorldTeleportRemote:InvokeServer(unpack(args))
    end)

    if ok then
        print("üöÄ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", nextWorldName)
    else
        warn("‚ùå ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", result)
    end
end


local function hopToPreviousWorld()
    local currentWorld = getWorldNameById(game.PlaceId)
    if not currentWorld then return end

    local index = table.find(WORLD_ORDER, currentWorld)
    if not index then return end

    local prevIndex = index - 1
    if prevIndex < 1 then
        prevIndex = index   -- ‡πÇ‡∏•‡∏Å‡πÅ‡∏£‡∏Å = hop ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏î‡∏¥‡∏°
    end

    local prevWorld = WORLD_ORDER[prevIndex]
    local prevId = WORLD_IDS[prevWorld]

    print("üîÅ Anti-Stuck: Hop ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‚Üí", prevWorld)

    pcall(function()
        ReplicatedStorage.Remotes.WorldTeleportRemote:InvokeServer(prevId, {})
    end)
end




local function detectCurrentWorldFolder()
    local wm = Player.Data:WaitForChild("WorldMissions")

    for _, folder in ipairs(wm:GetChildren()) do
        local missions = folder:FindFirstChild("Missions")
        if missions then
            return folder.Name
        end
    end

    return nil
end





local function getEggProgress()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions["Lobby"].Missions.EggQuest.Progress.Value
    end)
    return ok and value or 0
end

local function isLobbyEggDone()
    return getEggProgress() >= 1
end


local function getKillProgress()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions[currentWorldName].Missions.KillMobs.Progress.Value
    end)
    return ok and value or 0
end

local function getHarvestProgress()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions[currentWorldName].Missions.Harvest.Progress.Value
    end)
    return ok and value or 0
end
local function getTreasureProgress()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions[currentWorldName].Missions.TreasureChest.Progress.Value
    end)
    return ok and value or 0
end

-- ‚≠ê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‚≠ê
local function getSpendTimeProgress()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions[currentWorldName].Missions.SpendTime.Progress.Value
    end)
    return ok and value or 0
end

local function getRidingProgress()
    local ok, value = pcall(function()
        return LocalPlayer.Data.WorldMissions["Lobby"].Missions.RidingRing.Progress.Value
    end)
    return ok and value or 0
end


    local function getMissionValue(missionName)
    local config = WORLD_MISSION_REQUIREMENTS[game.PlaceId]
    if not config then return 0 end

    local worldName = config.WorldName
    if not worldName then
        warn("‚ùå worldName = nil ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö PlaceId:", game.PlaceId)
        return 0
    end

    local ok, result = pcall(function()
        return Player.Data.WorldMissions[worldName].Missions[missionName].Progress.Value
    end)

    return ok and result or 0
end

    ----------------------------------------------------
    -- üêâ ‡∏Ç‡∏µ‡πà + ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏≤‡∏Å workspace.Characters.PlayerName.Dragons)
    ----------------------------------------------------

    local player = game.Players.LocalPlayer
    local char = player.Character or player.CharacterAdded:Wait()
    local remotes = game:GetService("ReplicatedStorage"):WaitForChild("Remotes")

    -- üß© ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÉ‡∏ô workspace
    local dragonFolder = workspace:WaitForChild("Characters")
        :WaitForChild(player.Name)
        :WaitForChild("Dragons")

    -- üß© ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å‡πÉ‡∏ô Dragons
    local function getAutoDragon()
        local dragons = dragonFolder:GetChildren()
        if #dragons > 0 then
            return dragons[1]
        else
            return nil
        end
    end

    -- üß© ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£
    local function reviveDragon(dragonModel)
        local dragonName = dragonModel.Name
        local deadFlag = dragonModel:FindFirstChild("Data") and dragonModel.Data:FindFirstChild("Dead")

        if deadFlag and deadFlag.Value == true then
            print("üíÄ ‡∏°‡∏±‡∏á‡∏Å‡∏£", dragonName, "‡∏ï‡∏≤‡∏¢ ‚Äî ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏∑‡πâ‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏ä‡∏µ‡∏û...")
            local args = { dragonName, "DragonRevivalHeart" }

            local success, err = pcall(function()
                remotes:WaitForChild("ReviveDragonRemote"):InvokeServer(unpack(args))
            end)

            if success then
                print("‚ù§Ô∏è ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", dragonName)
                task.wait(1)
            else
                warn("‚ùå ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:", err)
            end
        end
    end

    -- üß† ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å (‡∏ü‡∏∑‡πâ‡∏ô + ‡∏Ç‡∏µ‡πà)
    local function ensureMountedDragon()
        local dragonModel = getAutoDragon()
        if not dragonModel then
            warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÉ‡∏ô workspace.Characters." .. player.Name .. ".Dragons")
            return
        end

        local targetName = dragonModel.Name

        -- üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏Å‡πà‡∏≠‡∏ô
        reviveDragon(dragonModel)

        -- ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏Ç‡∏µ‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏´‡∏°
        local humanoid = char:FindFirstChildOfClass("Humanoid")
        local currentSeat = humanoid and humanoid.SeatPart
        local currentMount = currentSeat and currentSeat:FindFirstAncestorWhichIsA("Model")

        if currentMount and currentMount:IsDescendantOf(dragonFolder) and currentMount.Name == targetName then
            return -- ‡∏Ç‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
        end

        -- ‚úÖ ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ç‡∏µ‡πà ‚Üí ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Seat ‡πÉ‡∏´‡∏°‡πà
        local seat = dragonModel:FindFirstChildWhichIsA("Seat", true)
        if seat then
            seat:Sit(humanoid)
            print("ü™∂ ‡∏Ç‡∏µ‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£:", targetName)

            task.wait(1)
            local flyBtn = player.PlayerGui
                :WaitForChild("HUDGui")
                .BottomFrame.CurrentDragonFrame.DragonControlsFrame.Other:FindFirstChild("Fly")

            if flyBtn and flyBtn:FindFirstChild("MouseButton1Down") then
                firesignal(flyBtn.MouseButton1Down)
                print("üõ´ ‡∏ö‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß!")
            end
        else
            warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö Seat ‡πÉ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£:", targetName)
        end
    end

    -- üîÅ ‡∏ï‡∏£‡∏ß‡∏à‡∏ã‡πâ‡∏≥‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥ (‡∏ü‡∏∑‡πâ‡∏ô + ‡∏Ç‡∏µ‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
    task.spawn(function()
        while true do
            task.wait(1)
            pcall(ensureMountedDragon)
        end
    end)

    -- üîÅ ‡∏ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏µ‡∏™‡∏õ‡∏≤‡∏ß‡∏ô‡πå ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏´‡∏°‡πà
    player.CharacterAdded:Connect(function(newChar)
        task.wait(3)
        char = newChar
        pcall(ensureMountedDragon)
    end)


    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local RunService = game:GetService("RunService")
    local UIS = game:GetService("UserInputService")

    ------------------------------------------------------------
    -- ‚öôÔ∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace
    ------------------------------------------------------------
    local function enableFlyControlUseSpace()
        local success, err = pcall(function()
            -- ‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á Setting
            local data = LocalPlayer:WaitForChild("Data", 5)
            if not data then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Data folder")
                return 
            end

            local settings = data:WaitForChild("Settings", 5)
            if not settings then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Settings folder")
                return 
            end

            local flyControlValue = settings:FindFirstChild("FlyControlUseSpace")
            if not flyControlValue then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö FlyControlUseSpace")
                return 
            end

            -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤
            if flyControlValue.Value == true then
                flyControlValue.Value = false
                print("‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace = true ‡πÅ‡∏•‡πâ‡∏ß")
            else
                print("‚úÖ FlyControlUseSpace ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (true)")
            end
        end)

        if not success then
            warn("‚ùå Error ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ FlyControlUseSpace:", err)
        end
    end

    ------------------------------------------------------------
    -- ‚å®Ô∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q
    ------------------------------------------------------------
    local function pressQ()
        -- ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ VirtualInputManager
        local VirtualInputManager = game:GetService("VirtualInputManager")

        -- ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏•‡∏á
        VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Q, false, game)

        -- ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà
        task.wait(0.05)

        -- ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏õ‡∏∏‡πà‡∏° Q
        VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Q, false, game)
    end

    ------------------------------------------------------------
    -- üõ©Ô∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à  ‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£ (‡∏Å‡∏±‡∏ô nil 100%)
    ------------------------------------------------------------
    local function getDragonFlyingState()
        -- ‡∏£‡∏≠ Character ‡∏ñ‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ô
        local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        if not char then return false end

        -- ‡∏´‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Dragons
        local dragonsFolder = char:FindFirstChild("Dragons")
        if not dragonsFolder then return false end

        -- ‡∏ß‡∏ô‡∏´‡∏≤‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ Data.Flying
        for _, dragon in ipairs(dragonsFolder:GetChildren()) do
            if dragon:IsA("Model") then
                local dataFolder = dragon:FindFirstChild("Data")
                if dataFolder then
                    local flyingValue = dataFolder:FindFirstChild("Flying")
                    if flyingValue and flyingValue.Value ~= nil then
                        return flyingValue.Value  -- true ‡∏´‡∏£‡∏∑‡∏≠ false
                    end
                end
            end
        end

        return false
    end

    ------------------------------------------------------------
    -- üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ù‡πâ‡∏≤‡∏î‡∏π‡πÅ‡∏•‡∏∞‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    ------------------------------------------------------------
    local function startFlyingMonitor()
        task.spawn(function()
            while true do
                task.wait(0.5)  -- ‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤ wait ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô

                local isFlying = false
                local ok, result = pcall(function()
                    return getDragonFlyingState()
                end)

                if ok then
                    isFlying = result
                else
                    warn("‚ùå getDragonFlyingState Error:", result)
                end

                if not isFlying then
                    print("‚ö†Ô∏è ‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏Å / ‡πÑ‡∏°‡πà‡∏ö‡∏¥‡∏ô ‚Üí ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q!")

                    -- ‡∏•‡∏≠‡∏á‡∏Å‡∏î Q 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à
                    pressQ()
                    task.wait(0.1)
                    pressQ()
                else
                    print("")
                end
            end
        end)
    end

    ------------------------------------------------------------
    -- üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    ------------------------------------------------------------
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÑ‡∏°‡πà‡∏ö‡∏¥‡∏ô")

    -- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace ‡∏Å‡πà‡∏≠‡∏ô
    enableFlyControlUseSpace()

    -- ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÉ‡∏´‡πâ Setting ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó
    task.wait(0.5)

    -- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ù‡πâ‡∏≤‡∏î‡∏π
    startFlyingMonitor()






    ---------------------------------------------------
    -- üåç GET CURRENT WORLD NAME
    ------------------------------------------------------------
    local function getWorldNameById(id)
        for name, wid in pairs(WORLD_IDS) do
            if wid == id then return name end
        end
        return nil
    end

    local currentWorldName = getWorldNameById(game.PlaceId)
    if not currentWorldName then
        warn("‚ùå ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö WORLD_IDS:", game.PlaceId)
        return
    end

    local function getMissionValue(missionName)
        local ok, result = pcall(function()
            return Player.Data.WorldMissions[currentWorldName].Missions[missionName].Progress.Value
        end)
        return ok and result or 0
    end

    local function isMissionDone(missionName, required)
        return getMissionValue(missionName) >= required
    end

    
-- üñ•Ô∏è MISSION GUI HUD (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠ ‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà)
------------------------------------------------------------
local missionGui
local missionWorldLabel
local missionCurrentLabel
local missionLabels = {}          -- [missionName] = TextLabel
local missionConfigForGui = nil   -- ‡πÄ‡∏Å‡πá‡∏ö config ‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
local CURRENT_MISSION_NAME = "-"  -- ‡πÑ‡∏ß‡πâ‡πÇ‡∏ä‡∏ß‡πå‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™‡∏≠‡∏∞‡πÑ‡∏£

-- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥
local function setCurrentMission(name)
    CURRENT_MISSION_NAME = name or "-"
    if missionCurrentLabel then
        missionCurrentLabel.Text = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥: " .. tostring(CURRENT_MISSION_NAME)
    end
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á GUI ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
local function initMissionGui()
    if missionGui then return end

    local playerGui = Player:WaitForChild("PlayerGui")

    local gui = Instance.new("ScreenGui")
    gui.Name = "NexonMissionHUD"
    gui.ResetOnSpawn = false
    gui.IgnoreGuiInset = true
    gui.Parent = playerGui
    missionGui = gui

    local frame = Instance.new("Frame")
    frame.Name = "MissionFrame"
    frame.AnchorPoint = Vector2.new(0.5, 0.5)
    frame.Size = UDim2.new(0, 460, 0, 260)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0) -- ‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠
    frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    frame.BackgroundTransparency = 0.25
    frame.BorderSizePixel = 0
    frame.Parent = gui

    local stroke = Instance.new("UIStroke")
    stroke.Thickness = 2
    stroke.Color = Color3.fromRGB(255, 255, 255)
    stroke.Transparency = 0.4
    stroke.Parent = frame

    local title = Instance.new("TextLabel")
    title.Name = "WorldLabel"
    title.Size = UDim2.new(1, -20, 0, 40)
    title.Position = UDim2.new(0, 10, 0, 10)
    title.BackgroundTransparency = 1
    title.Font = Enum.Font.GothamBold
    title.TextSize = 26
    title.TextXAlignment = Enum.TextXAlignment.Center
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.Text = "World: -"
    title.Parent = frame
    missionWorldLabel = title

    local current = Instance.new("TextLabel")
    current.Name = "CurrentMissionLabel"
    current.Size = UDim2.new(1, -20, 0, 32)
    current.Position = UDim2.new(0, 10, 0, 55)
    current.BackgroundTransparency = 1
    current.Font = Enum.Font.GothamBold
    current.TextSize = 24
    current.TextXAlignment = Enum.TextXAlignment.Center
    current.TextColor3 = Color3.fromRGB(255, 255, 0)
    current.Text = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥: -"
    current.Parent = frame
    missionCurrentLabel = current

    local listFrame = Instance.new("Frame")
    listFrame.Name = "MissionList"
    listFrame.Size = UDim2.new(1, -40, 0, 140)
    listFrame.Position = UDim2.new(0, 20, 0, 100)
    listFrame.BackgroundTransparency = 1
    listFrame.Parent = frame

    local layout = Instance.new("UIListLayout")
    layout.FillDirection = Enum.FillDirection.Vertical
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.Padding = UDim.new(0, 4)
    layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    layout.Parent = listFrame
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ï‡∏≤‡∏°‡πÇ‡∏•‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
local function setupMissionGuiForCurrentWorld()
    initMissionGui()

    local placeId = game.PlaceId
    local config = WORLD_MISSION_REQUIREMENTS[placeId]
    missionConfigForGui = config

    -- ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå label ‡πÄ‡∏Å‡πà‡∏≤
    missionLabels = {}
    if missionGui and missionGui:FindFirstChild("MissionFrame") then
        local listFrame = missionGui.MissionFrame:FindFirstChild("MissionList")
        if listFrame then
            for _, child in ipairs(listFrame:GetChildren()) do
                if child:IsA("TextLabel") then
                    child:Destroy()
                end
            end
        end
    end

    if not config then
        if missionWorldLabel then
            missionWorldLabel.Text = "World: Unknown (" .. tostring(placeId) .. ")"
        end
        return
    end

    if missionWorldLabel then
        missionWorldLabel.Text = "World: " .. tostring(config.WorldName)
    end

    local listFrame = missionGui.MissionFrame.MissionList

    for missionName, required in pairs(config.Missions) do
        local label = Instance.new("TextLabel")
        label.Name = "Mission_" .. missionName
        label.Size = UDim2.new(1, 0, 0, 24)
        label.BackgroundTransparency = 1
        label.Font = Enum.Font.Gotham
        label.TextSize = 20
        label.TextXAlignment = Enum.TextXAlignment.Center
        label.TextColor3 = Color3.fromRGB(230, 230, 230)
        label.Text = string.format("%s : 0 / %d", missionName, required)
        label.Parent = listFrame

        missionLabels[missionName] = label
    end

    -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° current mission ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
    setCurrentMission(CURRENT_MISSION_NAME)
end

-- ‡∏ß‡∏ô loop ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤ Progress ‡∏•‡∏á GUI
task.spawn(function()
    while true do
        task.wait(1)

        if missionConfigForGui and missionLabels then
            pcall(function()
                for missionName, required in pairs(missionConfigForGui.Missions) do
                    local label = missionLabels[missionName]
                    if label then
                        local current = getMissionValue(missionName)
                        label.Text = string.format("%s : %d / %d", missionName, current, required)
                    end
                end
            end)
        end
    end
end)

-- üîî ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏° (‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì currentWorldName ‡πÅ‡∏•‡πâ‡∏ß)
setupMissionGuiForCurrentWorld()
setCurrentMission("Idle")



-- üåº ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Lobby ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
local function isLobbyEggDone()   return isMissionDone("EggQuest", 1) end
local function isRingDone()       return isMissionDone("RidingRing", 10) end

-- üåã ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏≠‡∏∑‡πà‡∏ô (Grassland / Jungle / Volcano ‡∏Ø‡∏•‡∏Ø)
local function isEggDone()        return isMissionDone("EggQuest", 5) end
local function isKillDone()       return isMissionDone("KillMobs", 15) end
local function isHarvestDone()    return isMissionDone("Harvest", 50) end
local function isTreasureDone()   return isMissionDone("TreasureChest", 3) end
local function isKillBossDone()   return isMissionDone("KillBoss", 1) end
local function isSpendTimeDone()  return isMissionDone("SpendTime", 450) end




    local function getNextWorldId(currentWorld)
        for i = 1, #WORLD_ORDER do
            if WORLD_ORDER[i] == currentWorld then
                local nextIndex = i + 1
                if nextIndex <= #WORLD_ORDER then
                    local nextWorldName = WORLD_ORDER[nextIndex]
                    return WORLD_IDS[nextWorldName]
                end
            end
        end
        return nil
    end

    local function teleportToNextWorldAuto()
        local currentId = game.PlaceId
        local currentWorldName = getWorldNameById(currentId)
        if not currentWorldName then
            warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏•‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ID:", currentId)
            return
        end

        local nextId = getNextWorldId(currentWorldName)
        if not nextId then
            print("üéâ ‡∏ñ‡∏∂‡∏á‡πÇ‡∏•‡∏Å‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ")
            return
        end

        print("üåç ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ:", currentWorldName, "‚Üí ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ:", nextId)

        local remotes = ReplicatedStorage:WaitForChild("Remotes")
        local ok, result = pcall(function()
            return remotes:WaitForChild("WorldTeleportRemote"):InvokeServer(nextId, {})
        end)

        if ok then
            print("üöÄ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÇ‡∏•‡∏Å‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚Üí", nextId)
        else
            warn("‚ùå ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", result)
        end
    end


    -----------
    ---
    ---
    ----------------------------------------------------
    -- ü•ö PART 1 : GRASSLAND EGG QUEST (5/5)
    ------------------------------------------------------------
    local function tpToGrassEgg()
        if isEggDone() then return end

        print("ü•ö ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏Ç‡πà...")

        local folder =
            Workspace:FindFirstChild("Interactions")
            and Workspace.Interactions.Nodes
            and Workspace.Interactions.Nodes:FindFirstChild("Eggs")
            and Workspace.Interactions.Nodes.Eggs:FindFirstChild("ActiveNodes")

        if not folder then return end

        for _, node in ipairs(folder:GetChildren()) do
            if isEggDone() then break end

            local egg = node:FindFirstChild("EggModel")
            if egg and egg:FindFirstChild("Harvested") and not egg.Harvested.Value then
                local tp = egg.PrimaryPart or egg:FindFirstChildWhichIsA("BasePart")
                if tp then
                    HRP.CFrame = tp.CFrame + Vector3.new(0,4,0)
                    egg.Harvested.Value = true
                    task.wait(5)
                end
            end
        end
    end

    local function startEggQuest()
        if isEggDone() then
            print("ü•ö ‡∏Ç‡πâ‡∏≤‡∏°: ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
            return
        end

        print("üî• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà (0/5)")

        while not isEggDone() do
            tpToGrassEgg()
            task.wait(1)
        end

        print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå! (5/5)")
    end




----------------------------------------------------------------
-- üå™Ô∏è AUTO RIDING RING (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏Å‡πâ‡πÄ‡∏ï‡πá‡∏° 2025 / ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á)
----------------------------------------------------------------

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local VIM = game:GetService("VirtualInputManager")

--=========
-- üéØ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
--=========
local TARGET_PROGRESS = 10  -- ‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô 10 ‡∏´‡πà‡∏ß‡∏á
local ROOT_WORLD = "Lobby" -- ‡∏û‡∏≤‡∏ò Lobby ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô Data

local function getRidingProgress()
    local ok, value = pcall(function()
        return LocalPlayer.Data.WorldMissions["Lobby"].Missions.RidingRing.Progress.Value
    end)
    return ok and value or 0
end

local function isRingDone()
    return getRidingProgress() >= 10
end

local function isRidingMissionCompleted()
    return getRidingProgress() >= TARGET_PROGRESS
end
--=====================================
-- üêâ ‡∏´‡∏≤ HRP ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏µ‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£)
--=====================================
local function getPlayerRoot()
    local char = LocalPlayer.Character
    if not char then return nil end

    local dragons = char:FindFirstChild("Dragons")
    if dragons then
        for _, d in ipairs(dragons:GetChildren()) do
            if d:IsA("Model") and d:FindFirstChild("HumanoidRootPart") then
                return d.HumanoidRootPart
            end
        end
    end

    return char:FindFirstChild("HumanoidRootPart")
end

--=============================
-- üìå Folder ‡∏Ç‡∏≠‡∏á‡∏´‡πà‡∏ß‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏î
--=============================
local function getFlyingFolder()
    local root = workspace:FindFirstChild("Interactions")
    if not root then return nil end
    root = root:FindFirstChild("RidingRings")
    if not root then return nil end
    return root:FindFirstChild("Flying")
end

--============================================
-- üîç ‡∏´‡∏≤ ‚Äú‡∏´‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏∏‡∏î / ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‚Äù
--============================================
local function getDynamicRing()
    local folder = getFlyingFolder()
    if not folder then return nil end

    local best = nil
    local bestIndex = math.huge

    for _, item in ipairs(folder:GetChildren()) do
        local part = nil

        if item:IsA("BasePart") then
            part = item
        elseif item:IsA("Model") then
            part = item:FindFirstChildWhichIsA("BasePart")
        end

        if part then
            local num = tonumber(part.Name) or tonumber(item.Name) or 999999
            if num < bestIndex then
                bestIndex = num
                best = part
            end
        end
    end

    return best
end

--===================================
-- ‚úàÔ∏è ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏ô‡∏•‡∏≠‡∏î‡∏´‡πà‡∏ß‡∏á (‡∏Å‡∏±‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á 100%)
--===================================
local function flyToRing(hrp, ringPart, speed, maxTime)
    if not hrp or not ringPart then return end
    speed = speed or 8
    maxTime = maxTime or 6

    local startTime = tick()
    local lastDist = math.huge

    while true do
        if not hrp.Parent then return end
        if not ringPart.Parent then return end
        if isRidingMissionCompleted() then return end

        local target = ringPart.Position + Vector3.new(0, 3, 0)
        local pos = hrp.Position
        local dist = (target - pos).Magnitude

        if dist <= 2 then
            return
        end

        -- ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤ ‚Üí ‡∏Å‡∏±‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á
        if tick() - startTime > maxTime then
            warn("‚è±Ô∏è flyToRing timeout")
            return
        end

        -- ‡∏Å‡∏±‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô (‡∏´‡πà‡∏ß‡∏á‡∏•‡∏≠‡∏¢‡∏´‡∏ô‡∏µ)
        if dist > lastDist + 1 then
            return
        end
        lastDist = dist

        hrp.CFrame = CFrame.new(pos, target)
        hrp.CFrame = hrp.CFrame + (target - pos).Unit * speed * 0.5

        task.wait(0.03)
    end
end

--=====================
-- ‚≠ê Noclip
--=====================
local noclipEnabled = false
local noclipConnection = nil

local function enableNoclip()
    if noclipEnabled then return end
    noclipEnabled = true

    noclipConnection = RunService.Heartbeat:Connect(function()
        if not noclipEnabled then return end
        local char = LocalPlayer.Character
        if char then
            for _, part in ipairs(char:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
    end)

    print("üü£ Noclip ‚Üí ON")
end

local function disableNoclip()
    if not noclipEnabled then return end
    noclipEnabled = false

    if noclipConnection then
        noclipConnection:Disconnect()
        noclipConnection = nil
    end

    local char = LocalPlayer.Character
    if char then
        for _, p in ipairs(char:GetDescendants()) do
            if p:IsA("BasePart") then
                p.CanCollide = true
            end
        end
    end

    print("‚ö™ Noclip ‚Üí OFF")
end

--==============================
-- üî• Anti-stuck ‡∏Å‡∏î D ‡∏Å‡∏±‡∏ô‡∏´‡∏°‡∏∏‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á
--==============================
local function antiStuck()
    task.spawn(function()
        while not isRidingMissionCompleted() do
            task.wait(math.random(1, 10))
            VIM:SendKeyEvent(true, Enum.KeyCode.D, false, game)
            task.wait(0.1)
            VIM:SendKeyEvent(false, Enum.KeyCode.D, false, game)
        end
    end)
end

--=====================================
-- üåé ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
--=====================================
local function tpNextWorld()
    task.wait(1)
    if teleportToNextNeededWorld then
        teleportToNextNeededWorld()
    end
end

--========================================================
-- üöÄ START: ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏ô‡∏•‡∏≠‡∏î‡∏´‡πà‡∏ß‡∏á AUTO ‡πÅ‡∏ö‡∏ö‡∏£‡∏ß‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
--========================================================
function startRidingRingFly()
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏° RidingRing AUTO")

    enableNoclip()
    antiStuck()

    while not isRidingMissionCompleted() do
        local hrp = getPlayerRoot()
        if not hrp then
            warn("‚ö†Ô∏è HRP ‡πÑ‡∏°‡πà‡∏û‡∏ö")
            task.wait(0.5)
            continue
        end

        local ring = getDynamicRing()
        if not ring then
            warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏´‡πà‡∏ß‡∏á")
            task.wait(0.5)
            continue
        end

        print(("‚û°Ô∏è Ring: %s | Progress %d/%d")
            :format(ring.Name, getRidingProgress(), TARGET_PROGRESS))

        flyToRing(hrp, ring, 8, 6)
        task.wait(0.1)
    end

    print("üéâ RidingRing ‚úî ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", getRidingProgress())
    disableNoclip()
    tpNextWorld()
end



-- ===============================================
-- üîç GLOBAL MOB SCANNER (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥)
-- ===============================================
local lastDetectedMob = nil

task.spawn(function()
    while true do
        task.wait(1)

        local mob = lastDetectedMob or ultraFindMob()

        if mob then
            lastDetectedMob = mob
            -- print("üì° ‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏à‡∏≠‡∏°‡∏≠‡∏ô:", mob.Name)
        else
            lastDetectedMob = nil
        end
    end
end)




local SEARCH_POINTS = {
    Vector3.new(1335, 193, -254),
    Vector3.new(134, 73, -139),
    Vector3.new(-722, 9, 247),
    Vector3.new(444, 261, 615),
    Vector3.new(-28, 368, -181),
    Vector3.new(-1719, 109, -1102),
    Vector3.new(1763, 363, -22),
    Vector3.new(2148, 588, 1272)
}


local currentSearchIndex = 1

local function teleportNextSearchPoint()
    if not HRP then return end

    local pos = SEARCH_POINTS[currentSearchIndex]
    if pos then
        HRP.CFrame = CFrame.new(pos + Vector3.new(0, 5, 0))
        print("üîç ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ #" .. currentSearchIndex)
    end

    currentSearchIndex += 1
    if currentSearchIndex > #SEARCH_POINTS then
        currentSearchIndex = 1
    end
end


local function detectGrasslandMobs()
    local folder = Workspace:FindFirstChild("MobFolder")
    if not folder then return {} end

    local detected = {}
    for _, mobGroup in ipairs(folder:GetChildren()) do
        for _, obj in ipairs(mobGroup:GetChildren()) do
            if (obj:IsA("Model") or obj:IsA("BasePart")) and obj:FindFirstChild("Health") then
                table.insert(detected, obj.Name)
            end
        end
    end
    return detected
end

local TARGET_MOBS = detectGrasslandMobs()
if #TARGET_MOBS == 0 then
    warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ Mob")
    return
end

local function GetDragon()
    local dragons = Character:FindFirstChild("Dragons")
    if not dragons then return nil end

    for _, d in ipairs(dragons:GetChildren()) do
        if d:IsA("Model") and d:FindFirstChild("Remotes") then
            return d
        end
    end
end

local function teleportTo(pos)
    Character:PivotTo(CFrame.new(pos + Vector3.new(0,3,0)))
end

local function performBreath()
    local dragon = GetDragon()
    if not dragon then return end
    local fire = dragon.Remotes:FindFirstChild("BreathFireRemote")
    if fire then
        for _ = 1, 3 do
            fire:FireServer(true)
        end
    end
    VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.F, false, game)
    task.wait(0.05)
    VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.F, false, game)
end

local function getMobPosition(m)
    if m:IsA("Model") then
        if m.PrimaryPart then return m.PrimaryPart.Position end
        local p = m:FindFirstChildWhichIsA("BasePart", true)
        if p then return p.Position end
    else
        return m.Position
    end
end

local function findMob()
    local folder = Workspace:FindFirstChild("MobFolder")
    if not folder then return nil end

    for _, mobGroup in ipairs(folder:GetChildren()) do
        for _, name in ipairs(TARGET_MOBS) do
            local mob = mobGroup:FindFirstChild(name)
            if mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 then
                return mob
            end
        end
    end
    return nil
end

local function attackMob(mob)
    local dragon = GetDragon()
    if not dragon then return end
    local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
    if not remote then return end

    task.spawn(function()
        while mob:FindFirstChild("Health") and mob.Health.Value > 0 do
            remote:FireServer("Breath","Mobs",mob)
            RunService.Heartbeat:Wait()
        end
    end)
end



local currentSearchIndex = 1

local function teleportNextSearchPoint()
    if not HRP then return end

    local pos = SEARCH_POINTS[currentSearchIndex]
    if pos then
        HRP.CFrame = CFrame.new(pos + Vector3.new(0, 5, 0))
        print("üîç ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ #" .. currentSearchIndex, pos)
    end

    currentSearchIndex += 1
    if currentSearchIndex > #SEARCH_POINTS then
        currentSearchIndex = 1
    end
end


------------------------------------------------------------
-- ‚öîÔ∏è ADVANCED MOB FINDER (‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á)
------------------------------------------------------------
local function ultraFindMob()
    local mobs = {}

    -- ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á 1 : MobFolder ‡∏ó‡∏±‡πà‡∏ß‡πÄ‡∏Å‡∏°
    local folder = Workspace:FindFirstChild("MobFolder")
    if folder then
        for _, mobGroup in ipairs(folder:GetChildren()) do
            for _, mobName in ipairs(TARGET_MOBS) do
                local mob = mobGroup:FindFirstChild(mobName)
                if mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 then
                    table.insert(mobs, mob)
                end
            end
        end
    end

    -- ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á 2 : ActiveMobs (‡∏ö‡∏≤‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå spawn ‡∏ï‡∏≤‡∏° Global)
    local activePath =
        Workspace:FindFirstChild("Interactions")
        and Workspace.Interactions:FindFirstChild("Nodes")
        and Workspace.Interactions.Nodes:FindFirstChild("Mobs")
        and Workspace.Interactions.Nodes.Mobs:FindFirstChild("ActiveMobs")
        and Workspace.Interactions.Nodes.Mobs.ActiveMobs:FindFirstChild("Global")

    if activePath then
        for _, obj in ipairs(activePath:GetChildren()) do
            if obj:FindFirstChild("Health") and obj.Health.Value > 0 then
                table.insert(mobs, obj)
            end
        end
    end

    if #mobs == 0 then return nil end

    -- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏∏‡∏î
    table.sort(mobs, function(a,b)
        local pa = getMobPosition(a)
        local pb = getMobPosition(b)
        if not pa or not pb then return false end
        return (pa - HRP.Position).Magnitude < (pb - HRP.Position).Magnitude
    end)

    return mobs[1]
end
local function startKillQuest()
    if isKillDone() then
        print("‚öîÔ∏è ‡∏Ç‡πâ‡∏≤‡∏°: ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
        return
    end

    print("‚öîÔ∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô (0/15)")

    while not isKillDone() do

        -- ‚≠ê ‡∏´‡∏≤‡πÅ‡∏ö‡∏ö Ultra ‡∏Å‡πà‡∏≠‡∏ô
        local mob = ultraFindMob()

        if mob then
            -- ‚ùå ‡πÄ‡∏à‡∏≠‡∏°‡∏≠‡∏ô ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            print("üü¢ ‡πÄ‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏ß‡∏≤‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤")

            -- ‡∏ï‡∏µ‡∏°‡∏≠‡∏ô‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
            teleportTo(getMobPosition(mob))
            attackMob(mob)
            performBreath()

            while mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 do
                task.wait(0.05)
            end

            print("üíÄ Progress:", getKillProgress() .. "/15")

        else
            -- ‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            print("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ (‡∏ó‡∏∏‡∏Å 3 ‡∏ß‡∏¥)")
            teleportNextSearchPoint()
            task.wait(3)  -- ‚≠ê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏î‡∏µ‡πÄ‡∏•‡∏¢‡πå 3 ‡∏ß‡∏¥
        end

        task.wait(0.1)
    end

    print("üéâ ‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô‡∏Ñ‡∏£‡∏ö 15/15")
end


------------------------------------------------------
    -- üçì ‡∏î‡∏π‡∏î‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß (‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡∏°‡πà ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô 100%)
    ------------------------------------------------------------
    local function collectFoodItems()
        local cam = workspace:FindFirstChild("Camera")
        if not cam then return end
        if not HRP then return end

        local foodNames = {
            "AppleFoodModel","LemonFoodModel","CornFoodModel","CarrotFoodModel","PearFoodModel",
            "StrawberryFoodModel","PeachFoodModel","PotatoFoodModel","BroccoliFoodModel","CherryFoodModel",
            "BuleberryFoodModel","MushroomFoodModel","BananaFoodModel","AlmondFoodModel","OnionFoodModel",
            "KelpFoodModel","GrapesFoodModel","WatermelonFoodModel","PricklyPearFoodModel","ChiliFoodModel",
            "GlowingMushroomFoodModel","PineappleFoodModel","CottonCandyFoodModel","JuniperBerryFoodModel",
            "LimeFoodModel","DragonfruitFoodModel","AvacadoFoodModel","CacaoBeanFoodModel",
            "CoconutFoodModel","EdamameFoodModel","KajiFruitFoodModel","MistSudachiFoodModel",
            "PumpkinFoodModel"
        }

        for _, item in ipairs(cam:GetChildren()) do
            if table.find(foodNames, item.Name) then

                -- ‡∏¢‡πâ‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å BasePart ‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏≤
                for _, part in ipairs(item:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CFrame = HRP.CFrame
                    end
                end
            end
        end
    end


    ------------------------------------------------------------
    -- üê≤ ‡∏´‡∏≤‡∏£‡∏µ‡πÇ‡∏°‡∏ó‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ (‡πÑ‡∏°‡πà‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç)
    ------------------------------------------------------------
    local function getAnyDragonRemote()
        local dragons = Player.Character:WaitForChild("Dragons")

        for _, dragon in ipairs(dragons:GetChildren()) do
            if dragon:IsA("Model") and dragon:FindFirstChild("Remotes") then
                local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
                if remote then
                    return remote, dragon
                end
            end
        end

        return nil, nil
    end



    local SEARCH_POINTS = {
        Vector3.new(1335, 193, -254),
        Vector3.new(134, 73, -139),
        Vector3.new(-722, 9, 247),
        Vector3.new(444, 261, 615),
        Vector3.new(-28, 368, -181),
         Vector3.new(-1719, 109, -1102),
          Vector3.new(1763, 363, -22),
             Vector3.new(2148, 588, 1272),


    }

    local function teleportRandomSearchPoint()
        if not HRP then return end
        local pos = SEARCH_POINTS[math.random(1, #SEARCH_POINTS)]
        HRP.CFrame = CFrame.new(pos + Vector3.new(0, 5, 0))
        print("üîç ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà:", pos)
    end

local function findAnyFoodNode()
    local folder = Workspace:FindFirstChild("Interactions")
        and Workspace.Interactions:FindFirstChild("Nodes")
        and Workspace.Interactions.Nodes:FindFirstChild("Food")

    if not folder then return nil end

    for _, node in ipairs(folder:GetChildren()) do
        local b = node:FindFirstChild("BillboardPart")
        local hp = b and b:FindFirstChild("Health")

        if b and hp and hp.Value > 0 then
            return node, b, hp
        end
    end

    return nil
end 


------------------------------------------------------------
-- üå≤ ‡∏ï‡∏µ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ + ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥
------------------------------------------------------------
local function attackFoodNodes()
    if isHarvestDone() then
        print("üå≥ ‡∏Ç‡πâ‡∏≤‡∏°: Harvest ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
        return
    end

    print("üå≥ ‡πÄ‡∏£‡∏¥‡πà‡∏° Harvest (0/50)")

    task.spawn(function()
        while not isHarvestDone() do

            ------------------------------------------------
            -- üîç ‡∏´‡∏≤‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÅ‡∏ö‡∏ö‡∏™‡∏î‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥
            ------------------------------------------------
            local node, b, hp = findAnyFoodNode()

            if node and b and hp then
                print("üå≤ ‡πÄ‡∏à‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ:", node.Name)

                -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ
                HRP.CFrame = b.CFrame + Vector3.new(0, 6, 0)
                task.wait(0.2)

                ------------------------------------------------
                -- ü™ì ‡∏ï‡∏µ‡∏à‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ hp = 0
                ------------------------------------------------
                while hp.Value > 0 and not isHarvestDone() do
                    local remote = getAnyDragonRemote()
                    if remote then
                        local r, d = getAnyDragonRemote()
                        if r then
                            r:FireServer("Breath", "Destructibles", b)
                        end
                    end

                    collectFoodItems()
                    task.wait(0.2)
                end

                print("üå≤ Harvest:", getHarvestProgress(), "/50")

                task.wait(1)
            else
                ------------------------------------------------
                -- ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÄ‡∏•‡∏¢ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà
                ------------------------------------------------
                print("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏´‡∏≤‡∏ï‡πà‡∏≠...")
                teleportRandomSearchPoint()
                task.wait(1)
            end

            task.wait(1)  -- üîÅ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥
        end

        print("üéâ Harvest ‡∏Ñ‡∏£‡∏ö 50 ‡πÅ‡∏•‡πâ‡∏ß!")
    end)
end




----------------------------------
-- üíé 1) ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥
------------------------------------------------------------
local itemNames = {
    "SilverChest",
    "BronzeChest",
    "GoldChest",
    "SpookyChest",
    "AspookyChest"
}

------------------------------------------------------------
-- ‚úàÔ∏è 2) ‡∏à‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô‡∏´‡∏≤ (‡πÅ‡∏Å‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
------------------------------------------------------------
local teleportPoints = {
    Vector3.new(1335, 193, -254),
    Vector3.new(134, 73, -139),
    Vector3.new(-722, 9, 247),
    Vector3.new(444, 261, 615),
    Vector3.new(-28, 368, -181),
    Vector3.new(-1719, 109, -1102),
    Vector3.new(1763, 363, -22),
    Vector3.new(2148, 588, 1272),
}

local scanning = false
local currentIndex = 1
local nodeScanning = false
local currentNodeIndex = 1
local triggerScanning = false
local triggerPointIndex = 1

------------------------------------------------------------
-- üîç 4) ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏™‡∏î (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà Dead)
------------------------------------------------------------
function findItemsByName(names)
    names = names or itemNames

    if type(names) ~= "table" then
        warn("‚ùå itemNames ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà table")
        return {}
    end

    local foundItems = {}
    local treasureRoot = workspace:FindFirstChild("Interactions")
        and workspace.Interactions:FindFirstChild("Nodes")
        and workspace.Interactions.Nodes:FindFirstChild("Treasure")

    if not treasureRoot then
        return foundItems
    end

    -- ‡πÑ‡∏•‡πà‡πÄ‡∏ä‡πá‡∏Ñ node 1‚Äì100 ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
    for i = 1, 100 do
        local node = treasureRoot:FindFirstChild(tostring(i))
        if node then
            for _, name in ipairs(names) do
                local chest = node:FindFirstChild(name)
                if chest and chest:FindFirstChild("HumanoidRootPart") then
                    local hrp = chest.HumanoidRootPart
                    local dead = hrp:FindFirstChild("Dead")
                    if dead and not dead.Value then
                        table.insert(foundItems, hrp)
                    end
                end
            end
        end
    end

    return foundItems
end

------------------------------------------------------------
-- üó∫Ô∏è ‡∏´‡∏≤ Node ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏•‡πà‡∏≠‡∏á (‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)
------------------------------------------------------------
function findTreasureNodes()
    local treasureRoot = workspace:FindFirstChild("Interactions")
        and workspace.Interactions:FindFirstChild("Nodes")
        and workspace.Interactions.Nodes:FindFirstChild("Treasure")

    if not treasureRoot then return {} end

    local nodeList = {}

    for i = 1, 100 do
        local node = treasureRoot:FindFirstChild(tostring(i))
        if node then
            -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ Node ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÑ‡∏´‡∏°
            for _, name in ipairs(itemNames) do
                local chest = node:FindFirstChild(name)
                if chest and chest:FindFirstChild("HumanoidRootPart") then
                    local hrp = chest.HumanoidRootPart
                    local dead = hrp:FindFirstChild("Dead")
                    
                    -- ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà Dead
                    if dead and not dead.Value then
                        table.insert(nodeList, {
                            node = node,
                            chest = chest,
                            hrp = hrp,
                            position = hrp.Position
                        })
                    end
                end
            end
        end
    end

    return nodeList
end

------------------------------------------------------------
-- üó∫Ô∏è ‡∏à‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏•‡πà‡∏≠‡∏á Spawn (‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ, ‡∏°‡∏≠‡∏ô, ‡πÑ‡∏Ç‡πà)
------------------------------------------------------------
local function getSpawnTriggerPoints()
    local points = {}
    
    -- 1) ‡∏à‡∏∏‡∏î‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ (Food Nodes)
    pcall(function()
        local foodFolder = workspace.Interactions.Nodes.Food
        if foodFolder then
            for _, node in ipairs(foodFolder:GetChildren()) do
                local b = node:FindFirstChild("BillboardPart")
                if b then
                    table.insert(points, b.Position)
                end
            end
        end
    end)
    
    -- 2) ‡∏à‡∏∏‡∏î‡∏°‡∏≠‡∏ô (Mob Spawns)
    pcall(function()
        local mobFolder = workspace:FindFirstChild("MobFolder")
        if mobFolder then
            for _, mobGroup in ipairs(mobFolder:GetChildren()) do
                for _, mob in ipairs(mobGroup:GetChildren()) do
                    if mob:IsA("Model") and mob.PrimaryPart then
                        table.insert(points, mob.PrimaryPart.Position)
                    elseif mob:IsA("BasePart") then
                        table.insert(points, mob.Position)
                    end
                end
            end
        end
    end)
    
    -- 3) ‡∏à‡∏∏‡∏î‡πÑ‡∏Ç‡πà (Egg Nodes)
    pcall(function()
        local eggFolder = workspace.Interactions.Nodes.Eggs.ActiveNodes
        if eggFolder then
            for _, node in ipairs(eggFolder:GetChildren()) do
                local egg = node:FindFirstChild("EggModel")
                if egg then
                    local part = egg.PrimaryPart or egg:FindFirstChildWhichIsA("BasePart", true)
                    if part then
                        table.insert(points, part.Position)
                    end
                end
            end
        end
    end)
    
    return points
end

------------------------------------------------------------
-- üîÑ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠ Trigger ‡∏Å‡∏≤‡∏£ Spawn ‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πà‡∏≠‡∏á
------------------------------------------------------------
function startTriggerScan()
    if triggerScanning then return end
    triggerScanning = true
    print("üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏≤‡∏°‡∏à‡∏∏‡∏î Spawn ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÇ‡∏´‡∏•‡∏î...")

    task.spawn(function()
        while triggerScanning and not isTreasureDone() do
            -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
            local items = findItemsByName(itemNames)
            if #items > 0 then
                print("‚úÖ ‡πÄ‡∏à‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏´‡∏¢‡∏∏‡∏î Trigger Scan")
                triggerScanning = false
                return
            end

            -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≤‡∏á‡πÜ
            local points = getSpawnTriggerPoints()
            
            if #points > 0 then
                -- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∏‡∏î‡πÅ‡∏ö‡∏ö‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô
                local targetPos = points[triggerPointIndex]
                
                if targetPos then
                    pcall(function()
                        local char = Player.Character or Player.CharacterAdded:Wait()
                        local hrp = char:WaitForChild("HumanoidRootPart")
                        
                        hrp.CFrame = CFrame.new(targetPos + Vector3.new(0, 15, 0))
                        print("üîÑ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î Spawn #" .. triggerPointIndex .. " ‡πÄ‡∏û‡∏∑‡πà‡∏≠ Trigger ‡∏Å‡∏•‡πà‡∏≠‡∏á")
                    end)
                end
                
                triggerPointIndex += 1
                if triggerPointIndex > #points then
                    triggerPointIndex = 1
                end
                
                task.wait(3)
                
            else
                -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏∏‡∏î‡πÄ‡∏•‡∏¢ ‡πÉ‡∏ä‡πâ teleportPoints ‡πÄ‡∏î‡∏¥‡∏°
                print("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏à‡∏∏‡∏î Spawn ‚Üí ‡πÉ‡∏ä‡πâ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏°")
                local targetPos = teleportPoints[currentIndex]
                if targetPos then
                    pcall(function()
                        local char = Player.Character or Player.CharacterAdded:Wait()
                        local hrp = char:WaitForChild("HumanoidRootPart")
                        hrp.CFrame = CFrame.new(targetPos + Vector3.new(0, 5, 0))
                    end)
                end
                
                currentIndex += 1
                if currentIndex > #teleportPoints then
                    currentIndex = 1
                end
                
                task.wait(3)
            end
        end
        
        triggerScanning = false
    end)
end

function stopTriggerScan()
    if not triggerScanning then return end
    triggerScanning = false
    print("üõë ‡∏´‡∏¢‡∏∏‡∏î Trigger Scan ‡πÅ‡∏•‡πâ‡∏ß")
end

------------------------------------------------------------
-- üß≠ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Node ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏•‡πà‡∏≠‡∏á
------------------------------------------------------------
function startNodeScan()
    if nodeScanning then return end
    nodeScanning = true
    print("üó∫Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏≤‡∏° Node ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏•‡πà‡∏≠‡∏á...")

    task.spawn(function()
        while nodeScanning and not isTreasureDone() do
            local nodes = findTreasureNodes()

            if #nodes > 0 then
                print("üìç ‡πÄ‡∏à‡∏≠ " .. #nodes .. " Node ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏•‡πà‡∏≠‡∏á ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏™‡πÅ‡∏Å‡∏ô Node")
                nodeScanning = false
                return
            end

            -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡πÄ‡∏•‡∏¢ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏î‡∏π Node 1-100
            pcall(function()
                local treasureRoot = workspace.Interactions.Nodes.Treasure
                local node = treasureRoot:FindFirstChild(tostring(currentNodeIndex))
                
                if node then
                    local targetPos = nil
                    
                    -- ‡∏´‡∏≤ BasePart ‡πÉ‡∏î ‡πÜ
                    for _, obj in ipairs(node:GetDescendants()) do
                        if obj:IsA("BasePart") then
                            targetPos = obj.Position
                            break
                        end
                    end
                    
                    if not targetPos then
                        for _, child in ipairs(node:GetChildren()) do
                            if child:IsA("BasePart") then
                                targetPos = child.Position
                                break
                            elseif child:IsA("Model") then
                                local part = child:FindFirstChildWhichIsA("BasePart", true)
                                if part then
                                    targetPos = part.Position
                                    break
                                end
                            end
                        end
                    end

                    if targetPos then
                        local char = Player.Character or Player.CharacterAdded:Wait()
                        local hrp = char:WaitForChild("HumanoidRootPart")
                        hrp.CFrame = CFrame.new(targetPos + Vector3.new(0, 10, 0))
                        print("üó∫Ô∏è ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ï‡∏£‡∏ß‡∏à Node:", currentNodeIndex)
                    end
                end
            end)

            currentNodeIndex += 1
            if currentNodeIndex > 100 then
                currentNodeIndex = 1
            end

            task.wait(2)
        end

        nodeScanning = false
    end)
end

function stopNodeScan()
    if not nodeScanning then return end
    nodeScanning = false
    print("üõë ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡πÅ‡∏Å‡∏ô Node ‡πÅ‡∏•‡πâ‡∏ß")
end

------------------------------------------------------------
-- ‚úàÔ∏è 3) ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô‡∏´‡∏≤ ACTIVE CHEST (‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ + ‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ)
------------------------------------------------------------
function startOrbitScan()
    if scanning then return end
    scanning = true
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏≤‡∏°‡∏à‡∏∏‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á...")

    task.spawn(function()
        while scanning and not isTreasureDone() do
            local preItems = findItemsByName(itemNames)
            if #preItems > 0 then
                print("üì¶ ‡πÄ‡∏à‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô")
                scanning = false
                return
            end

            pcall(function()
                local char = Player.Character or Player.CharacterAdded:Wait()
                local hrp = char:WaitForChild("HumanoidRootPart")
                local targetPos = teleportPoints[currentIndex]
                
                if targetPos then
                    hrp.CFrame = CFrame.new(targetPos + Vector3.new(0, 5, 0))
                    print("üìç ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà:", currentIndex)
                end
            end)

            currentIndex += 1
            if currentIndex > #teleportPoints then
                currentIndex = 1
            end

            task.wait(2)

            local postItems = findItemsByName(itemNames)
            if #postItems > 0 then
                print("üì¶ ‡∏û‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á")
                scanning = false
                return
            end
        end
    end)
end

function stopOrbitScan()
    if not scanning then return end
    scanning = false
    print("üõë ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡πâ‡∏ß")
end

------------------------------------------------------------
-- üß≠ 5) ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á
------------------------------------------------------------
function teleportToItem(item)
    pcall(function()
        local char = Player.Character
        if char and char.PrimaryPart and item then
            char:SetPrimaryPartCFrame(item.CFrame * CFrame.new(0, 5, 0))
            print("üì¶ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á:", item.Parent.Name)
        end
    end)
end

------------------------------------------------------------
-- ‚öôÔ∏è 6) ‡∏ï‡∏±‡πâ‡∏á Dead = true
------------------------------------------------------------
function setItemDead(item)
    pcall(function()
        if not item or not item.Parent then return end
        local dead = item.Parent.HumanoidRootPart:FindFirstChild("Dead")
        if dead then
            dead.Value = true
            print("‚ò†Ô∏è ‡∏ï‡∏±‡πâ‡∏á Dead ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡πà‡∏≠‡∏á:", item.Parent.Name)
        end
    end)
end

------------------------------------------------------------
-- üíé 7) AUTO TREASURE (‡∏£‡∏∞‡∏ö‡∏ö 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô)
------------------------------------------------------------
function startAutoTeleportTreasure()
    autoTeleportTreasure = true
    print("üíé ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ñ‡∏ß‡∏™ Treasure Chest (0/3)...")

    local lastCheck = os.clock()
    local lastFoundTime = tick()

    task.spawn(function()
        while autoTeleportTreasure and not isTreasureDone() do
            if os.clock() - lastCheck >= 1 then
                lastCheck = os.clock()

                local items = findItemsByName(itemNames)

                if #items > 0 then
                    -- ‚≠ê ‡πÄ‡∏à‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô
                    stopOrbitScan()
                    stopNodeScan()
                    stopTriggerScan()
                    lastFoundTime = tick()

                    local target = items[1]
                    local dead = target:FindFirstChild("Dead")

                    if dead and not dead.Value then
                        teleportToItem(target)
                        setItemDead(target)
                        print("üíé ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°! ‡πÄ‡∏Ñ‡∏ß‡∏™:", getTreasureProgress(), "/3")
                        task.wait(3)
                    end

                else
                    -- ‚ùå ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á ‚Üí ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
                -- ‚ùå ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á ‚Üí ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
local timeSinceFound = tick() - lastFoundTime

if timeSinceFound < 15 then
    -- üîç ‡∏£‡∏∞‡∏¢‡∏∞ 1: ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏à‡∏∏‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ (0-15 ‡∏ß‡∏¥)
    if not scanning and not nodeScanning and not triggerScanning then
        print("üîç [‡∏£‡∏∞‡∏¢‡∏∞ 1] ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏≤‡∏°‡∏à‡∏∏‡∏î‡∏õ‡∏Å‡∏ï‡∏¥...")
        startOrbitScan()
    end
    
elseif timeSinceFound < 30 then
    -- üîÑ ‡∏£‡∏∞‡∏¢‡∏∞ 2: Trigger Spawn (15-30 ‡∏ß‡∏¥)
    if not triggerScanning then
        print("üîÑ [‡∏£‡∏∞‡∏¢‡∏∞ 2] ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠ Trigger Spawn...")
        stopOrbitScan()
        stopNodeScan()
        startTriggerScan()
    end
    
else
    -- üó∫Ô∏è ‡∏£‡∏∞‡∏¢‡∏∞ 3: ‡∏™‡πÅ‡∏Å‡∏ô Node (30+ ‡∏ß‡∏¥)
    if not nodeScanning then
        print("üó∫Ô∏è [‡∏£‡∏∞‡∏¢‡∏∞ 3] ‡∏™‡πÅ‡∏Å‡∏ô Node ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á...")
        stopOrbitScan()
        stopTriggerScan()
        startNodeScan()
    end
end
                end
            end

            RunService.Heartbeat:Wait()
        end

        if isTreasureDone() then
            autoTeleportTreasure = false
            stopOrbitScan()
            stopNodeScan()
            stopTriggerScan()
            print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™ Treasure Chest ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! (3/3)")
        end
    end)
end

function stopAutoTeleportTreasure()
    autoTeleportTreasure = false
    stopOrbitScan()
    stopNodeScan()
    stopTriggerScan()
end


    local Player = Players.LocalPlayer

    -- ‚öôÔ∏è SETTINGS
    local ATTACKS_PER_CYCLE = 50
    local MAX_FARM_RANGE = 350
    local WORLD_TARGETS = {
        [3475397644] = {"Boar", "BoarElite", "Falcon", "Owl", "OwlSnow"},
        [3475419198] = {"BoarElite", "Falcon", "Owl", "OwlSnow","Boar"},
        [3475422608] = {"CaveBat", "Crocodile", "Monkey"},
        [3487210751] = {"Elemental", "Gargoyle", "Salamander"},
        [3623549100] = {"Eagle", "SnowBoar","OwlSnow"},
        [3737848045] = {"Crab", "Lionfish", "Pufferfish"},
        [3752680052] = {"DesertScarab", "Scorpion", "Vulture"},
        [4174118306] = {"Hydra", "Mimic", "MythicalDeer"},
        [4728805070] = {"MantaRay", "Slime"},
        [4869039553] = {"Dimorph", "Ptero", "Stego"},
        [125804922932357] = {"EliteKappa","EliteKitsuneFox","EliteWanyudo","Kappa","KiriFogGhost","KitsuneFox","Wanyudo"}
    }

    -- üî¥ CONTROL FLAG
    local stopAll = false

    -- üö´ SAFE DESTROY OLD REMOTE
    pcall(function()
        local remotes = ReplicatedStorage:FindFirstChild("Remotes")
        if remotes then
            local target = remotes:FindFirstChild("MobDamageRemote")
            if target then target:Destroy() end
        end
    end)

    --========================================================--
    -- üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss (Desert) ‡∏ß‡πà‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
    --========================================================--


    -- üê≤ GET ANY DRAGON
    local function GetAnyDragon()
        local char = Player.Character or Player.CharacterAdded:Wait()
        local dragons = char:FindFirstChild("Dragons")
        if not dragons then return nil end
        for _, dragon in pairs(dragons:GetChildren()) do
            if dragon:IsA("Model") and dragon:FindFirstChild("Remotes") and dragon.Remotes:FindFirstChild("PlaySoundRemote") then
                return dragon
            end
        end
        return nil
    end

    -- üì¶ TELEPORT (SAFE)
    local function teleportToPosition(pos)
        local char = Player.Character
        if char and char.PrimaryPart then
            local dist = (char.PrimaryPart.Position - pos).Magnitude
            if dist > 5 then
                for _, part in ipairs(char:GetDescendants()) do
                    if part:IsA("BasePart") then part.CanCollide = false end
                end
                char:PivotTo(CFrame.new(pos))
                task.wait(math.clamp(dist / 150, 0.1, 1))
                for _, part in ipairs(char:GetDescendants()) do
                    if part:IsA("BasePart") then part.CanCollide = true end
                end
            end
        end
    end

    -- ü¶¥ ATTACK MOB
    local function hyperAttackMob(mob, dragon)
        local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
        if not remote then return end
        task.spawn(function()
            for i = 1, ATTACKS_PER_CYCLE do
                if stopAll then break end
                pcall(function()
                    remote:FireServer("Breath", "Mobs", mob)
                end)
                if mob:FindFirstChild("Health") and mob.Health.Value <= 0 then break end
                RunService.Heartbeat:Wait()
            end
        end)
    end

    -- üîç FIND MOB WITH HEALTH
    local function findMobWithHealth()
        local folder = workspace:FindFirstChild("MobFolder")
        local root = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
        if not folder or not root then return nil end

        local currentWorldId = game.PlaceId
        local mobList = WORLD_TARGETS[currentWorldId]

        if not mobList then
            warn("‚ùå ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏°‡∏≠‡∏ô")
            return nil
        end

        for _, mobGroup in pairs(folder:GetChildren()) do
            for _, mobName in pairs(mobList) do
                local mob = mobGroup:FindFirstChild(mobName)
                if mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 then
                    local pos = mob:IsA("Model") and mob.PrimaryPart and mob.PrimaryPart.Position or (mob:IsA("BasePart") and mob.Position)
                    if pos and (pos - root.Position).Magnitude <= MAX_FARM_RANGE then
                        return mob
                    end
                end
            end
        end
        return nil
    end
-- ‚≠ê ‡∏´‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏£‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
local function findNearestBoss()
    local folder = workspace:FindFirstChild("ActiveBossModels")
    local hrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")

    if not folder or not hrp then
        return nil
    end

    local nearest = nil
    local shortestDist = math.huge

    for _, model in ipairs(folder:GetChildren()) do
        local bossHRP = model:FindFirstChild("HumanoidRootPart")
        local bossID = model:FindFirstChild("BossID")
        local owner = model:FindFirstChild("Owner")

        if bossHRP and bossID and owner then
            local dist = (bossHRP.Position - hrp.Position).Magnitude
            if dist < shortestDist then
                shortestDist = dist
                nearest = model
            end
        end
    end

    return nearest
end

-- ‚≠ê ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ö‡∏ö‡∏Ñ‡πà‡∏≠‡∏¢ ‡πÜ ‡∏•‡∏≠‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡∏•‡∏∞‡∏ô‡∏¥‡∏î
local function smoothFlyToPosition(targetPos, speed)
    speed = speed or 40 -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏≠‡∏¢ ‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏π‡∏á‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß
    local char = Player.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    -- ‡∏õ‡∏¥‡∏î‡∏ä‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô‡πÄ‡∏î‡πâ‡∏á
    for _, p in ipairs(char:GetDescendants()) do
        if p:IsA("BasePart") then p.CanCollide = false end
    end

    -- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏•‡∏π‡∏õ‡∏ö‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡∏•‡∏∞‡∏ô‡∏¥‡∏î
    while hrp and (hrp.Position - targetPos).Magnitude > 5 do
        local current = hrp.Position
        local direction = (targetPos - current).Unit
        local newPos = current + direction * speed * 0.05 -- step ‡πÄ‡∏•‡πá‡∏Å‡πÜ
        hrp.CFrame = CFrame.new(newPos, targetPos) -- ‡∏´‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏ö‡∏≠‡∏™
        task.wait(0.03)
    end

    -- ‡πÄ‡∏õ‡∏¥‡∏î‡∏ä‡∏ô‡∏Å‡∏•‡∏±‡∏ö
    for _, p in ipairs(char:GetDescendants()) do
        if p:IsA("BasePart") then p.CanCollide = true end
    end
end


-- ‚≠ê ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡πà‡∏≤‡∏ô BossID ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤
local function getMyBossID()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions[currentWorldName].Missions.KillBoss.BossID.Value
    end)
    return ok and value or nil
end

-- ‚≠ê ‡∏î‡∏∂‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏π‡πâ (‡∏à‡∏≤‡∏Å BossID ‚Üí ‡πÑ‡∏õ‡∏î‡∏π‡∏ä‡∏∑‡πà‡∏≠)
local function getMyBossName()
    local myID = getMyBossID()
    if not myID then return nil end

    -- ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏°: NAME ‡∏à‡∏∞‡∏ã‡πâ‡∏≥‡∏ä‡∏∑‡πà‡∏≠ Model ‡∏ï‡∏£‡∏á ‡πÜ
    -- ‡πÄ‡∏ä‡πà‡∏ô BossID = 3 ‚Üí ‡∏ö‡∏≠‡∏™‡∏ä‡∏∑‡πà‡∏≠ "DesertScarabBoss" ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô
    -- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á map ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏° table ‡πÅ‡∏ï‡πà‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏Å‡∏°‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
    return tostring(myID)
end
-- ‚≠ê ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÅ‡∏ö‡∏ö 100% (ID + Owner + ‡πÉ‡∏Å‡∏•‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)
local function findMyBoss()
    local folder = workspace:FindFirstChild("ActiveBossModels")
    local hrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")

    if not folder or not hrp then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ ActiveBossModels ‡∏´‡∏£‡∏∑‡∏≠ HRP ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô")
        return nil
    end

    local myID = getMyBossID()
    local myOwner = Player.Name

    if not myID then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ BossID ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÉ‡∏ô Data")
        return nil
    end

    local best = nil
    local shortest = math.huge

    for _, model in ipairs(folder:GetChildren()) do
        local bossID = model:FindFirstChild("BossID")
        local owner = model:FindFirstChild("Owner")
        local bossHRP = model:FindFirstChild("HumanoidRootPart")

        -- ‚≠ê ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‚Üí ‡∏Ç‡πâ‡∏≤‡∏°
        if not (bossID and owner and bossHRP) then
            continue
        end

        -- ‚≠ê ‡∏ï‡πâ‡∏≠‡∏á ID ‡∏ï‡∏£‡∏á ‡πÅ‡∏•‡∏∞ Owner ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
        if tonumber(bossID.Value) == tonumber(myID) and owner.Value == myOwner then
            local dist = (bossHRP.Position - hrp.Position).Magnitude
            if dist < shortest then
                shortest = dist
                best = model
            end
        end
    end

    if best then
        print("üü¢ ‡∏û‡∏ö '‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤' ‚Üí", best.Name,
            "| BossID =", myID,
            "| Owner =", myOwner,
            "| ‡∏£‡∏∞‡∏¢‡∏∞ =", math.floor(shortest))
    else
        print("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡πà ID + Owner ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤")
    end

    return best
end
-- ‚≠ê ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏•‡∏ö‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÉ‡∏ô ActiveBossModels
local function cleanOtherBosses()
    local folder = workspace:FindFirstChild("ActiveBossModels")
    if not folder then return end

    local myName = Player.Name

    for _, model in ipairs(folder:GetChildren()) do
        local owner = model:FindFirstChild("Owner")

        -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ owner ‚Üí ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ö‡∏≠‡∏™‡∏õ‡∏Å‡∏ï‡∏¥ ‚Üí ‡∏•‡∏ö
        if not owner then
            print("üóëÔ∏è ‡∏•‡∏ö: ‡πÑ‡∏°‡πà‡∏°‡∏µ Owner ‚Üí", model.Name)
            model:Destroy()
            continue
        end

        -- ‡∏ñ‡πâ‡∏≤ owner ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏≤ ‚Üí ‡∏•‡∏ö‡∏ó‡∏¥‡πâ‡∏á
        if owner.Value ~= myName then
            print("üóëÔ∏è ‡∏•‡∏ö: ‡∏ö‡∏≠‡∏™‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‚Üí", model.Name, "| Owner =", owner.Value)
            model:Destroy()
        else
            print("üü¢ ‡πÄ‡∏Å‡πá‡∏ö: ‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‚Üí", model.Name)
        end
    end
end


-- ‚≠ê ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏ö‡∏≠‡∏™‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏£‡∏≤‡πÑ‡∏´‡∏°
local function isMyBoss(model)
    if not model then return false end
    local owner = model:FindFirstChild("Owner")
    return owner and owner.Value == Player.Name
end
local function findBestBossTarget()
    local myID = getMyBossID()
    local myName = getMyBossName()

    if not myID or not myName then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• BossID / BossName ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤")
        return nil
    end

    print("üîé ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤...")
    print("üîç ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ BossID =", myID, " / Name =", myName)

    local folder = workspace:FindFirstChild("ActiveBossModels")
    local hrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
    if not folder or not hrp then 
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ ActiveBossModels ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ HRP")
        return nil 
    end

    local best = nil
    local shortest = math.huge

    for _, model in ipairs(folder:GetChildren()) do
        local bossID = model:FindFirstChild("BossID")
        local bossHRP = model:FindFirstChild("HumanoidRootPart")

        if bossID and bossHRP then
            print("‚û° ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•:", model.Name, " | ID =", bossID.Value)

            if tonumber(bossID.Value) == tonumber(myID) then
                print("   ‚úî ID ‡∏ï‡∏£‡∏á!")

                if model.Name == myName then
                    print("   ‚úî ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏á ‚Üí ‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á 2 ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç!")
                    local dist = (bossHRP.Position - hrp.Position).Magnitude

                    if dist < shortest then
                        shortest = dist
                        best = model
                        print("   ‚≠ê ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î =", model.Name, " | ‡∏£‡∏∞‡∏¢‡∏∞ =", math.floor(dist))
                    end
                else
                    print("   ‚ùå ID ‡∏ï‡∏£‡∏á ‡πÅ‡∏ï‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á ‚Üí ‡∏Ç‡πâ‡∏≤‡∏°:", model.Name)
                end
            else
                print("   ‚ùå ID ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á ‚Üí ‡∏Ç‡πâ‡∏≤‡∏°:", model.Name)
            end
        end
    end

    if best then
        print("üü¢ ‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏≠:", best.Name, "| ID =", myID)
    else
        print("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡πà‡∏ó‡∏±‡πâ‡∏á ID + Name ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô")
    end

    return best
end

local function chaseAndAttackBoss(model)
    task.spawn(function()
        if not model then return end
        print("‚úà ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ö‡∏≠‡∏™ ‚Üí", model.Name)

        local dragon = GetAnyDragon()
        if not dragon then return end
        local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
        if not remote then return end

        -- ‡∏•‡∏π‡∏õ‡∏¢‡∏¥‡∏á
        task.spawn(function()
            while model and model.Parent and not isKillBossDone() do
                local bossHRP = model:FindFirstChild("HumanoidRootPart")
                if bossHRP then
                    pcall(function()
                        remote:FireServer("Breath", "Bosses", bossHRP)
                    end)
                end
                RunService.Heartbeat:Wait()
            end
        end)

        -- ‡∏•‡∏π‡∏õ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ö‡∏≠‡∏™
        while model and model.Parent and not isKillBossDone() do
            local bossHRP = model:FindFirstChild("HumanoidRootPart")
            if bossHRP then
                print("üöÄ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏ö‡∏≠‡∏™:", model.Name, "| ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á =", bossHRP.Position)
                smoothFlyToPosition(bossHRP.Position + Vector3.new(0, 6, 0), 45)
            end
            task.wait(5)
        end
    end)
end

local function hpFreezeCheck(model)
    task.spawn(function()
        while model and not isKillBossDone() do
            local bossHPObj = workspace.Interactions.Boss.BossInstances:FindFirstChild(model.Name)
            if bossHPObj and bossHPObj:FindFirstChild("Health") then
                local oldHP = bossHPObj.Health.Value
                task.wait(5)

                local newObj = workspace.Interactions.Boss.BossInstances:FindFirstChild(model.Name)
                if newObj and newObj:FindFirstChild("Health") then
                    local newHP = newObj.Health.Value

                    if newHP == oldHP then
                        print("‚õî HP ‡πÑ‡∏°‡πà‡∏•‡∏î‡πÄ‡∏•‡∏¢ 5 ‡∏ß‡∏¥ ‚Üí ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏ö‡∏≠‡∏™‡πÉ‡∏´‡∏°‡πà")
                        startBossFight()
                        return
                    end
                end
            end
        end
    end)
end




    -- üõ†Ô∏è START BOSS FIGHT (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡∏°‡πà: 8 ‡∏ß‡∏¥‡πÅ‡∏£‡∏Å‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏°‡πà‡∏•‡∏î ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ã‡πâ‡∏≥, ‡∏ñ‡πâ‡∏≤ 2 ‡∏ß‡∏¥‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤ ‚Üí ‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö)
local function startBossFight()
    print("üî• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö Boss Fight ‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞...")

    if isKillBossDone() then
        print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (1/1)! ‡∏Ç‡πâ‡∏≤‡∏°‡∏ö‡∏≠‡∏™")
        return
    end

    -- ‚ñ∂Ô∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏¥‡∏ß
    pcall(function()
        ReplicatedStorage.Remotes.CreateBossQueueRemote:InvokeServer("NoOne")
    end)
    task.wait(6)

    -- ‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏≠‡∏™
    pcall(function()
        ReplicatedStorage.Remotes.StartBossQueueRemote:InvokeServer()
    end)
    task.wait(17)

    -- ‡∏´‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ö‡∏≠‡∏™
    local bossModels = Workspace:FindFirstChild("ActiveBossModels")
    if not bossModels then warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏≠‡∏™") return end

    local targetModel
    for _, m in ipairs(bossModels:GetChildren()) do
        if m:FindFirstChild("HumanoidRootPart") then
            targetModel = m
            break
        end
    end
    if not targetModel then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ HRP ‡∏ö‡∏≠‡∏™")
        return
    end

    -- HP path
    local bossName = targetModel.Name
    local bossHP = Workspace.Interactions.Boss.BossInstances:FindFirstChild(bossName)
    if not bossHP or not bossHP:FindFirstChild("Health") then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• HP ‡∏ö‡∏≠‡∏™")
        return
    end

    -- Remote
    local dragon = GetAnyDragon()
    if not dragon then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏°‡∏±‡∏á‡∏Å‡∏£")
        return
    end

    local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
    if not remote then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ PlaySoundRemote")
        return
    end

-- ‚≠ê ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÅ‡∏ö‡∏ö 100% (ID + Owner + ‡πÉ‡∏Å‡∏•‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)
local function findMyRealBoss()
    local folder = workspace:FindFirstChild("ActiveBossModels")
    local hrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")

    if not folder or not hrp then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ ActiveBossModels ‡∏´‡∏£‡∏∑‡∏≠ HRP ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô")
        return nil
    end

    local myBossID = getMyBossID()
    if not myBossID then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ BossID ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÉ‡∏ô Data")
        return nil
    end

    local myName = Player.Name
    local best = nil
    local shortest = math.huge

    for _, model in ipairs(folder:GetChildren()) do
        local bossID = model:FindFirstChild("BossID")
        local owner = model:FindFirstChild("Owner")
        local bossHRP = model:FindFirstChild("HumanoidRootPart")

        if bossID and owner and bossHRP then
            if tonumber(bossID.Value) == tonumber(myBossID) and owner.Value == myName then
                local dist = (bossHRP.Position - hrp.Position).Magnitude
                if dist < shortest then
                    shortest = dist
                    best = model
                end
            end
        end
    end

    if best then
        print("üü¢ ‡∏û‡∏ö '‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤' ‚Üí", best.Name, 
            "| BossID =", myBossID, 
            "| Owner =", myName, 
            "| ‡∏£‡∏∞‡∏¢‡∏∞ =", math.floor(shortest))
    else
        print("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏¢ (ID + Owner ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô)")
    end

    return best
end



local function findNearestMyBoss()
    local myID = getMyBossID()
    if not myID then return findNearestBoss() end

    local folder = workspace:FindFirstChild("ActiveBossModels")
    local hrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
    if not folder or not hrp then return nil end

    local nearest = nil
    local shortest = math.huge

    for _, model in ipairs(folder:GetChildren()) do
        if model:FindFirstChild("BossID") and model.BossID.Value == myID then
            local bossHRP = model:FindFirstChild("HumanoidRootPart")
            if bossHRP then
                local dist = (bossHRP.Position - hrp.Position).Magnitude
                if dist < shortest then
                    shortest = dist
                    nearest = model
                end
            end
        end
    end

    return nearest
end

-- ‚≠ê‚≠ê ‡∏ß‡∏≤‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ‚≠ê‚≠ê
task.spawn(function()
    while true do
        task.wait(2)
        cleanOtherBosses()
    end
end)
-- ‚≠ê‚≠ê ‡∏à‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ‚≠ê‚≠ê


----------------------------------------------------------------
task.spawn(function()
    while true do
        task.wait(5)

        if isKillBossDone() then
            print("üèÜ ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ö‡∏≠‡∏™‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏≠‡∏™")
            return
        end

        -- ‚≠ê ‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
        local targetBoss = findMyBoss()

        if not targetBoss then
            print("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö ‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‚Üí startBossFight()")
            startBossFight()
            continue
        end

        print("üü£ ‡πÄ‡∏à‡∏≠‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤:", targetBoss.Name)
        chaseAndAttackBoss(targetBoss)
        hpFreezeCheck(targetBoss)
    end
end)








    local bossHRP = targetModel.HumanoidRootPart
    local lastHP = bossHP.Health.Value

    -- üïí ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ 8 ‡∏ß‡∏¥‡πÅ‡∏£‡∏Å
    local firstHP = bossHP.Health.Value          -- ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏µ
    local firstWarpTime = tick()                 -- ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ö‡∏≠‡∏™
    local retriedWarpOnce = false                -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ã‡πâ‡∏≥‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

    -- ‚è± ‡∏ï‡∏±‡∏ß‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ HP ‡πÑ‡∏°‡πà‡∏•‡∏î (‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏° 2 ‡∏ß‡∏¥ ‚Üí ‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö)
    local noDamageTime = 0
    local mode = "BOSS"  -- ‡∏°‡∏µ 2 ‡πÇ‡∏´‡∏°‡∏î: "BOSS" ‡πÅ‡∏•‡∏∞ "MOB"

    print("‚öîÔ∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏ö‡∏≠‡∏™‡πÅ‡∏ö‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡∏ß...")

    -- üî• Loop ‡∏´‡∏•‡∏±‡∏Å
    while bossHP.Health.Value > 0 and not isKillBossDone() do

        -----------------------------
        -- üìå ‡πÇ‡∏´‡∏°‡∏î 1: ‡∏ï‡∏µ‡∏ö‡∏≠‡∏™‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
        -----------------------------
        if mode == "BOSS" then
            -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏¥‡∏î‡∏ö‡∏≠‡∏™‡∏ó‡∏∏‡∏Å ‡πÜ ‡∏£‡∏≠‡∏ö (‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏î)
            if Player.Character and Player.Character.PrimaryPart then
               smoothFlyToPosition(bossHRP.Position + Vector3.new(0, 6, 0), 45)

            end

            -- ‡∏¢‡∏¥‡∏á‡∏£‡∏±‡∏ß‡πÉ‡∏™‡πà‡∏ö‡∏≠‡∏™
            pcall(function()
                remote:FireServer("Breath", "Bosses", bossHRP)
            end)

            -- ‡∏ï‡∏£‡∏ß‡∏à HP ‡∏ß‡πà‡∏≤‡∏•‡∏î‡πÑ‡∏´‡∏° (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö logic 2 ‡∏ß‡∏¥ ‡πÄ‡∏î‡∏¥‡∏°)
            if bossHP.Health.Value == lastHP then
                noDamageTime += 0.1
            else
                noDamageTime = 0
            end

            -- ‚≠ê 8 ‡∏ß‡∏¥‡πÅ‡∏£‡∏Å‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏µ‡∏ö‡∏≠‡∏™ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏°‡πà‡∏•‡∏î‡πÄ‡∏•‡∏¢ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ï‡∏¥‡∏î‡∏ö‡∏≠‡∏™‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö
            if (not retriedWarpOnce)
                and (tick() - firstWarpTime >= 8)
                and (bossHP.Health.Value == firstHP) then

                print("‚è±Ô∏è 8 ‡∏ß‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏≠‡∏™‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô‡∏î‡∏≤‡πÄ‡∏°‡∏à‡πÄ‡∏•‡∏¢ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ã‡πâ‡∏≥‡πÑ‡∏õ‡∏ï‡∏¥‡∏î‡∏ö‡∏≠‡∏™‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á")

                if Player.Character and Player.Character.PrimaryPart then
                smoothFlyToPosition(bossHRP.Position + Vector3.new(0, 6, 0), 45)

                end

                retriedWarpOnce = true
            end

            -- ‡∏ñ‡πâ‡∏≤ 2 ‡∏ß‡∏¥ HP ‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö‡πÅ‡∏Å‡πâ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤‡∏á
            if noDamageTime >= 2 then
                print("‚ö†Ô∏è 2 ‡∏ß‡∏¥ HP ‡∏ö‡∏≠‡∏™‡πÑ‡∏°‡πà‡∏•‡∏î ‚Üí ‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö‡πÅ‡∏Å‡πâ‡∏Ñ‡πâ‡∏≤‡∏á!")
                mode = "MOB"
            end
        end

        -----------------------------
        -- üìå ‡πÇ‡∏´‡∏°‡∏î 2: ‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö‡∏à‡∏ô‡∏ö‡∏≠‡∏™‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏î
        -----------------------------
        if mode == "MOB" then
            local mob = findMobWithHealth()
            local d = GetAnyDragon()

            if mob and d then
                local mobPos = mob:IsA("Model") and mob.PrimaryPart.Position or mob.Position
                teleportToPosition(mobPos)
                hyperAttackMob(mob, d)
                task.wait(0.5)
            end

            -- ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ï‡∏µ‡∏ö‡∏≠‡∏™ (‡∏û‡∏≠‡∏ö‡∏≠‡∏™‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á)
            if bossHP.Health.Value < lastHP then
                print("üí• ‡∏ö‡∏≠‡∏™‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÇ‡∏î‡∏ô‡∏î‡∏≤‡πÄ‡∏°‡∏à ‚Üí ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ï‡∏µ‡∏ö‡∏≠‡∏™‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!")
                mode = "BOSS"
                noDamageTime = 0
            end
        end

        lastHP = bossHP.Health.Value
        task.wait(0.1)
    end

    print("üõë ‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏Å‡∏±‡∏ö‡∏ö‡∏≠‡∏™‡πÅ‡∏•‡πâ‡∏ß!")

    if isKillBossDone() then
        print("üèÜ ‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!")
    end
end



--========================================================--
-- üîß LOAD SERVICES (‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
--========================================================--
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes")

local Workspace = game:GetService("Workspace")

--========================================================--
-- üîí SAFE FIRE / SAFE INVOKE
--========================================================--
local function safeFire(remote, ...)
    if not remote then return end
    local args = { ... }
    local ok, err = pcall(function()
        remote:FireServer(unpack(args))
    end)
    if not ok then warn("‚ùå Fire failed:", remote.Name, err) end
end

local function safeInvoke(remote, ...)
    if not remote then return end
    local args = { ... }
    local ok, result = pcall(function()
        return remote:InvokeServer(unpack(args))
    end)
    if not ok then warn("‚ùå Invoke failed:", remote.Name, result) end
    return result
end

--========================================================--
-- ü•ö 1) EGG TUTORIAL
--========================================================--
local function completeEggTutorial()
    safeFire(Remotes.PostTutorialStageRemote, "InteractWithEgg")
    safeInvoke(Remotes.ReplicateItemRemote, {Name="Tutorial", Category="Eggs"}, "Model")
    safeFire(Remotes.PostTutorialStageRemote, "CompleteEggNestInteraction")
    safeInvoke(Remotes.SetTutorialStageRemote, "HatchingEggs")
end

--========================================================--
-- üîç ‡∏´‡∏≤ INCUBATOR
--========================================================--
local function getPlayerIncubator()
    local PlotsFolder = Workspace:WaitForChild("Interactions")
        :WaitForChild("Plots")
        :WaitForChild("Plots")

    local plotName = LocalPlayer.Name .. "_Plot"
    local playerPlot = PlotsFolder:FindFirstChild(plotName)
    if not playerPlot then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Plot ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô:", plotName)
        return nil
    end

    return playerPlot.Base
        and playerPlot.Base.Buildings
        and playerPlot.Base.Buildings:FindFirstChild("Incubator")
end

--========================================================--
-- üß™ 2) INCUBATOR TUTORIAL
--========================================================--
local function completeIncubatorTutorial()
    local incubator = getPlayerIncubator()
    if not incubator then return end

    safeFire(Remotes.PostTutorialStageRemote, "InteractWithIncubator")
    safeInvoke(incubator.IncubateRemote, "Tutorial")
    safeFire(Remotes.PostTutorialStageRemote, "PlaceEggInIncubator")
    safeInvoke(incubator.ClaimRemote)
    safeFire(Remotes.PostTutorialStageRemote, "ClaimEgg")
    safeInvoke(Remotes.SetTutorialStageRemote, "GrowingDragon")
    safeInvoke(Remotes.EquipDragonRemote, "1")
end

--========================================================--
-- üî• 3) GROW DRAGON TUTORIAL
--========================================================--
local function completeGrowDragonTutorial()
    safeFire(Remotes.PostTutorialStageRemote, "OpenInteractMenuWithDragon")
    safeInvoke(Remotes.GrowDragonRemote, "1")
    safeFire(Remotes.PostTutorialStageRemote, "GrowDragon")
    safeFire(Remotes.PostTutorialStageRemote, "RideDragon")
    safeInvoke(Remotes.SetTutorialStageRemote, "SkillsIntroduction")
    safeInvoke(Remotes.EquipDragonRemote, "1")
end

--========================================================--
-- ‚úàÔ∏è 4) FLYING TUTORIAL
--========================================================--
local function completeFlyingTutorialStage()
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local dragons = char:WaitForChild("Dragons")
    local dragon = dragons:FindFirstChild("1")
    if not dragon then return end

    safeFire(dragon.Remotes.FlyingRemote, true)
    safeFire(Remotes.PostTutorialStageRemote, "FlyDragon")

    safeFire(Remotes.RidingRingTouchedRemote, "Tutorial")
    safeFire(Remotes.PostTutorialStageRemote, "FlyThroughRing1")

    safeFire(LocalPlayer.Remotes.SetCurrentPlotRemote)
    safeFire(Remotes.SetPlotThemeRemote, "")

    safeFire(Remotes.RidingRingTouchedRemote, "Tutorial")
    safeFire(Remotes.PostTutorialStageRemote, "FlyThroughRing2")

    safeInvoke(Remotes.ReplicateItemRemote, {Name="DefaultPlotTheme",Category="PlotThemes"},"Atmosphere")
    safeInvoke(Remotes.ReplicateItemRemote, {Name="DefaultPlotTheme",Category="PlotThemes"},"Sky")

    safeFire(Remotes.RidingRingTouchedRemote, "Tutorial")
    safeFire(Remotes.PostTutorialStageRemote, "FlyThroughRing3")

    safeFire(Remotes.PostTutorialStageRemote, "GotCloseToTarget")
    safeFire(Remotes.PostTutorialStageRemote, "StartedFireBreath")
    safeFire(Remotes.PostTutorialStageRemote, "DestroyTarget1")
    safeFire(Remotes.PostTutorialStageRemote, "DestroyTarget2")
    safeFire(Remotes.PostTutorialStageRemote, "DestroyTarget3")

    safeFire(Remotes.PoppedDiscoverIndicatorRemote,"EggNest","Tutorial")
    safeFire(Remotes.PostTutorialStageRemote, "InteractWithEgg2")
    safeFire(Remotes.PostTutorialStageRemote, "CompleteEggNestInteraction2")

    safeInvoke(Remotes.SetTutorialStageRemote, "NextWorld")
    safeInvoke(Remotes.ReplicateItemRemote, {Name="CoBreed",Category="Eggs"},"Model")
end

--========================================================--
-- üß™ 5) SECOND INCUBATOR
--========================================================--
local function completeSecondIncubatorTutorial()
    local incubator = getPlayerIncubator()
    if not incubator then return end

    safeInvoke(Remotes.GetTeleportRemote, "Plot", LocalPlayer.Name .. "_Plot")
    safeFire(LocalPlayer.Remotes.SetCurrentPlotRemote)
    safeFire(Remotes.SetPlotThemeRemote, "")

    safeFire(Remotes.PostTutorialStageRemote, "InteractWithIncubator2")
    safeInvoke(incubator.IncubateRemote, "TutorialCompleteEgg")

    safeInvoke(Remotes.ReplicateItemRemote, {
        Name="TutorialCompleteEgg",
        Category="Eggs"
    }, "Model")

    safeFire(Remotes.PostTutorialStageRemote, "PlaceEggInIncubator2")
    safeInvoke(incubator.ClaimRemote)

    safeFire(Remotes.PostTutorialStageRemote, "ClaimEgg2")
    safeInvoke(Remotes.SetTutorialStageRemote, "Complete")
end

local function findAnyLobbyEgg()
    local folder = workspace:FindFirstChild("Interactions")
        and workspace.Interactions:FindFirstChild("Nodes")
        and workspace.Interactions.Nodes:FindFirstChild("Eggs")
        and workspace.Interactions.Nodes.Eggs:FindFirstChild("ActiveNodes")

    if not folder then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö ActiveNodes ‡∏Ç‡∏≠‡∏á‡πÑ‡∏Ç‡πà")
        return nil
    end

    for _, node in ipairs(folder:GetChildren()) do
        local egg = node:FindFirstChild("EggModel")
        if egg then
            return egg, node
        end
    end

    return nil
end


-- ‚≠ê ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á ‡πÑ‡∏°‡πà‡πÄ‡∏î‡πâ‡∏á ‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î
local function tpTo(pos)
    local char = Player.Character
    if not char or not char.PrimaryPart then return end

    -- ‡∏õ‡∏¥‡∏î‡∏ä‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô‡πÄ‡∏î‡πâ‡∏á
    for _, p in ipairs(char:GetDescendants()) do
        if p:IsA("BasePart") then
            p.CanCollide = false
        end
    end

    char:PivotTo(CFrame.new(pos + Vector3.new(0, 3, 0))) -- ‡∏¢‡∏∑‡∏ô‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡πÑ‡∏Ç‡πà‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á

    task.wait(0.2)

    -- ‡πÄ‡∏õ‡∏¥‡∏î‡∏ä‡∏ô‡∏Å‡∏•‡∏±‡∏ö
    for _, p in ipairs(char:GetDescendants()) do
        if p:IsA("BasePart") then
            p.CanCollide = true
        end
    end
end


local function startLobbyEggQuest()
    print("ü•ö ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏Ç‡πà Lobby...")

    local egg, node = findAnyLobbyEgg()

    if not egg then
        print("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏Ç‡πà Lobby ‡πÄ‡∏•‡∏¢ (ActiveNodes ‡πÑ‡∏°‡πà‡∏°‡∏µ EggModel)")
        return
    end

    print("ü•ö ‡πÄ‡∏à‡∏≠‡πÑ‡∏Ç‡πà:", egg.Name, "‡πÉ‡∏ô Node:", node.Name)

    -- ‚≠ê ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏´‡∏≤‡πÑ‡∏Ç‡πà‡∏Å‡πà‡∏≠‡∏ô (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!!)
    if egg:IsA("Model") then
        if egg.PrimaryPart then
            tpTo(egg.PrimaryPart.Position)
        else
            -- ‡∏´‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•
            local part = egg:FindFirstChildWhichIsA("BasePart")
            if part then tpTo(part.Position) end
        end
    elseif egg:IsA("BasePart") then
        tpTo(egg.Position)
    end

    task.wait(0.4)

    -- ‚≠ê ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏Ç‡πà‡∏à‡∏£‡∏¥‡∏á
    local harvested = node:FindFirstChild("Harvested")
                    or egg:FindFirstChild("Harvested")

    if harvested then
        harvested.Value = true
        print("‚ú® ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏Ç‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!")
    else
        print("‚ö†Ô∏è ‡πÑ‡∏Ç‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ Harvested ‚Üí ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Remote")
    end

    task.wait(0.5)
end


-------------------------------------------------------------
-- üåç ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ç‡∏≠‡∏á "‡πÇ‡∏•‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô"
-------------------------------------------------------------
local function isCurrentWorldFullyCompleted()
    local placeId = game.PlaceId
    local config = WORLD_MISSION_REQUIREMENTS[placeId]

    if not config then
        warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ:", placeId)
        return false
    end

    local worldName = config.WorldName
    local missions = config.Missions

    for missionName, requiredValue in pairs(missions) do
        -- ‡∏≠‡πà‡∏≤‡∏ô progress ‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å Data
        local ok, progress = pcall(function()
            return Player.Data.WorldMissions[worldName].Missions[missionName].Progress.Value
        end)

        if not ok then
            warn("‚ö†Ô∏è ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", missionName)
            return false
        end

        if progress < requiredValue then
            return false
        end
    end

    return true -- ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
end

------------------------------------------------------------
-- üîÑ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å (Auto Check Every 5 Sec)
------------------------------------------------------------
task.spawn(function()
    while true do
        task.wait(20)

        local placeId = game.PlaceId
        local config = WORLD_MISSION_REQUIREMENTS[placeId]

        if config then
            local worldName = config.WorldName

            if isCurrentWorldFullyCompleted() then
                print("üîé [AUTO CHECK] ‡πÇ‡∏•‡∏Å " .. worldName .. " ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡πà‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ")
                teleportToNextNeededWorld()
                task.wait(20) -- ‡∏Å‡∏±‡∏ô spam ‡∏ß‡∏≤‡∏õ
            else
                print("‚è≥ [AUTO CHECK] ‡πÇ‡∏•‡∏Å " .. worldName .. " ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö")
            end
        else
            print("‚ö†Ô∏è [AUTO CHECK] ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö config:", placeId)
        end
    end
end)

------------------------------------------------------------
-- ‚è≥ WAIT FOR SpendTime (450) THEN TP
------------------------------------------------------------
local function waitSpendTimeThenTP()
    print("")

    while not isSpendTimeDone() do
       print("‚è≥ SpendTime:", getMissionValue("SpendTime"), "/450")
        task.wait(3)
    end

    print("üéâ SpendTime ‡∏Ñ‡∏£‡∏ö 450 ‡πÅ‡∏•‡πâ‡∏ß! ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ...")
end
task.spawn(function()
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö FULL AUTO ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÇ‡∏•‡∏Å")

    -- ‚≠ê‚≠ê‚≠ê ‡πÄ‡∏ä‡πá‡∏Ñ TotalCompleted ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚≠ê‚≠ê‚≠ê
    local placeId = game.PlaceId
    
    if isWorldFullyCompletedById(placeId) then
        print("‚úÖ ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (TotalCompleted ‡∏Ñ‡∏£‡∏ö) ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ")
        task.wait(2)
        teleportToNextNeededWorld()
        return
    end

    -- ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™
    print("‚ö†Ô∏è ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™")

    --------------------------------------------------------------------
    -- üè† LOBBY (3475397644)
    --------------------------------------------------------------------
    if game.PlaceId == 3475397644 then
        print("üåç World = Lobby (3475397644)")

        -- ----------- Check Tutorial -----------
        if hasNestPath() then
            print("üìå ‡∏û‡∏ö Nest Path ‚Üí Run Tutorial")

            for i = 1,5 do
                completeEggTutorial()
                wait(0.1)
                completeIncubatorTutorial()
                wait(0.1)
                completeGrowDragonTutorial()
                wait(0.1)
                completeFlyingTutorialStage()
                wait(0.1)
                completeSecondIncubatorTutorial()
                wait(0.1)
            end

            task.wait(2)
            ReplicatedStorage.Remotes.WorldTeleportRemote:InvokeServer(3475397644, {})
            return
        end

        -- ----------- LOBBY NORMAL MISSIONS -----------
        print("üåü ‡πÑ‡∏°‡πà‡∏°‡∏µ Nest ‚Üí Lobby Missions")

        -- ü•ö Lobby Egg
        if not isLobbyEggDone() then
            print("ü•ö ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà Lobby (1/1)")
            setCurrentMission("EggQuest (Lobby)")
            startLobbyEggQuest()
            repeat task.wait(1) until isLobbyEggDone()
        end
        print("ü•ö Lobby Egg ‚úî")

        -- üåÄ Ring
        if not isRingDone() then
            print("üåÄ RidingRing Lobby")
            setCurrentMission("RidingRing")
            startRidingRingFly()
            repeat task.wait(1) until isRingDone()
        end

        print("üåÄ RidingRing ‚úî")

        teleportToNextNeededWorld()
        return
    end

    --------------------------------------------------------------------
    -- üî•üî• WORLD ‡∏≠‡∏∑‡πà‡∏ô (Grassland / Jungle / Volcano / ‡∏Ø‡∏•‡∏Ø)
    --------------------------------------------------------------------

    ----------------------------------------------------
    -- 1) Egg (5/5)
    ----------------------------------------------------
    if not isEggDone() then
        setCurrentMission("EggQuest")
        startEggQuest()
        while not isEggDone() do task.wait(1) end
    end
    print("ü•ö Egg ‚úî")

    ----------------------------------------------------
    -- 2) Kill mobs (15/15)
    ----------------------------------------------------
    if not isKillDone() then
        setCurrentMission("KillMobs")
        startKillQuest()
        while not isKillDone() do task.wait(1) end
    end
    print("‚öîÔ∏è Kill Mobs ‚úî")

    ----------------------------------------------------
    -- 3) Harvest (50/50)
    ----------------------------------------------------
    if not isHarvestDone() then
        setCurrentMission("Harvest")
        attackFoodNodes()
        while not isHarvestDone() do task.wait(1) end
    end
    print("üå≥ Harvest ‚úî")

    ----------------------------------------------------
    -- 4) Treasure Chest (3/3)
    ----------------------------------------------------
    if not isTreasureDone() then
        setCurrentMission("TreasureChest")
        startAutoTeleportTreasure()
        while not isTreasureDone() do task.wait(1) end
        stopAutoTeleportTreasure()
    end
    print("üíé Treasure ‚úî")

    ----------------------------------------------------
    -- 5) Kill Boss (1/1)
    ----------------------------------------------------
    if not isKillBossDone() then
        setCurrentMission("KillBoss")
        startBossFight()
        while not isKillBossDone() do task.wait(1) end
    end
    print("üêâ Kill Boss ‚úî")

    ----------------------------------------------------
    -- 6) SpendTime (450/450)
    ----------------------------------------------------
    if not isSpendTimeDone() then
        setCurrentMission("SpendTime")
        print("‚è≥ ‡∏£‡∏≠ SpendTime ‡∏Ñ‡∏£‡∏ö 450 ...")
        while not isSpendTimeDone() do
            print("‚è≥ SpendTime:", getMissionValue("SpendTime"), "/450")
            task.wait(3)
        end
    end
    print("‚è≥ SpendTime ‚úî")

    ----------------------------------------------------
    -- 7) ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏ö‡∏à‡∏£‡∏¥‡∏á)
    ----------------------------------------------------
    print("üîé ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô...")

    if isCurrentWorldFullyCompleted() then
        print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å " .. currentWorldName .. " ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß! ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ")
        task.wait(2)
        teleportToNextNeededWorld()
    else
        print("‚õî ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö 100% ‚Üí ‡πÑ‡∏°‡πà‡∏ß‡∏≤‡∏£‡πå‡∏õ")
    end
end)

------------------------------------------------------------
-- üü• ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à Anti-Stuck (2 ‡∏ô‡∏≤‡∏ó‡∏µ‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö = Hop Server)
------------------------------------------------------------
task.spawn(function()
    while true do
        task.wait(10)

        local total = getTotalMissionProgress()

        if total > lastTotalProgress then
            -- ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤
            lastTotalProgress = total
            lastProgressCheck = tick()
        else
            -- ‡∏ñ‡πâ‡∏≤ 2 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö
            if tick() - lastProgressCheck >= 120 then
                print("‚õî ‡∏Ñ‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí Hop Server!")
                hopToPreviousWorld()
                task.wait(10)
            end
        end
    end
end)
