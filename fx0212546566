
local PLACE_ID = game.PlaceId

-- üåç ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏•‡∏Å
local WORLD_SCRIPTS = {
    [3475397644] = "https://raw.githubusercontent.com/nexonshopopzaza-hue/wdfafwafwaf/refs/heads/main/wdawa", -- Lobby
    -- ‚Ä¶ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡πÇ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
}

-- üéØ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏î‡∏∂‡∏á PlaceID ‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå Roblox
local function getPlaceIdFromURL(url)
    return tonumber(string.match(url, "%d+"))
end

-- üîé ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á workspace.Environment.Nest ‡πÑ‡∏´‡∏°
local function hasNestPath()
    local ok, result = pcall(function()
        return workspace:FindFirstChild("Environment")
            and workspace.Environment:FindFirstChild("Nest")
    end)

    return ok and result ~= nil
end

-- üöÄ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ï‡∏≤‡∏° PlaceID
local function runScriptForPlaceID(placeId)
    -- ‚úÖ ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ Environment.Nest ‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏•‡∏¢
    if not hasNestPath() then
        warn("‚è≠Ô∏è ‡∏Ç‡πâ‡∏≤‡∏°‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå: ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ workspace.Environment.Nest")
        return
    end

    local scriptURL = WORLD_SCRIPTS[placeId]

    if scriptURL then
        print("üü£ Loading script for world:", placeId)
        local ok, res = pcall(function()
            return game:HttpGet(scriptURL)
        end)

        if ok and res then
            loadstring(res)()
        else
            warn("‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", res)
        end
    else
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö PlaceID:", placeId)
    end
end

----------------------------------------------------
-- ‚èØ ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏° (‡∏ï‡∏≤‡∏° PlaceId ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏°)
----------------------------------------------------
runScriptForPlaceID(PLACE_ID)


----------------------------------
    -- üåç WORLD 1 : SKIP WORLD (3475397644)
    ---------------------------------------------------------

    if PLACE_ID == 3475419198 then
        print("üü¢ Loaded World: GRASSLAND ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö Grassland Missions")

        local url = "https://raw.githubusercontent.com/nexonshopopzaza-hue/dsdwad/refs/heads/main/wdad"
        local ok, res = pcall(function()
            return game:HttpGet(url)
        end)

        if ok then
            loadstring(res)()
        else
            warn("‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå Grassland ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", res)
        end

        return
    end

    ---------------------------------------------------------
    -- üåç WORLD 1 : LOBBY (3475397644)
    ---------------------------------------------------------
    if PLACE_ID == 3475397644 then
        print("üü£ Loaded World: LOBBY ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö Lobby Missions")

        local url = "https://raw.githubusercontent.com/nexonshopopzaza-hue/lobby/refs/heads/main/add"
        local ok, res = pcall(function()
            return game:HttpGet(url)
        end)

        if ok then
            loadstring(res)()
        else
            warn("‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå Lobby ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", res)
        end

        return
    end

    ---------------------------------------------------------
    -- üåç WORLD 2 : GRASSLAND (3475419198)
    ---------------------------------------------------------
    if PLACE_ID == 3475419198 then
        print("üü¢ Loaded World: GRASSLAND ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö Grassland Missions")

        local url = "https://raw.githubusercontent.com/nexonshopopzaza-hue/dsdwad/refs/heads/main/wdad"
        local ok, res = pcall(function()
            return game:HttpGet(url)
        end)

        if ok then
            loadstring(res)()
        else
            warn("‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå Grassland ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", res)
        end

        return
    end








    local Players = game:GetService("Players")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Workspace = game:GetService("Workspace")
    local RunService = game:GetService("RunService")
    local VirtualInputManager = game:GetService("VirtualInputManager")

    local Player = Players.LocalPlayer
    local Character = Player.Character or Player.CharacterAdded:Wait()
    local HRP = Character:WaitForChild("HumanoidRootPart")
    local WORLD_ORDER = {
      
        "Origins",
        "Grassland",
        "Jungle",
        "Volcano",
        "Tundra",
        "Ocean",
        "Desert",
        "Fantasy",
        "Wasteland",
        "Prehistoric",
        "Shinrin"
    }

    local WORLD_IDS = {
   
        Origins      = 3475397644,
        Grassland    = 3475419198,
        Jungle       = 3475422608,
        Volcano      = 3487210751,
        Tundra       = 3623549100,
        Ocean        = 3737848045,
        Desert       = 3752680052,
        Fantasy      = 4174118306,
        Toxic    = 4728805070,
        Prehistoric  = 4869039553,
        Shinrin      = 125804922932357
    }
--------------------------
-- üåç ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏•‡∏Å‡πÅ‡∏ö‡∏ö‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° PlaceId
------------------------------------------------------------
local WORLD_MISSION_REQUIREMENTS = {
    [3475397644] = { -- Origins / Lobby
        WorldName = "Origins",
        Missions = {
            EggQuest    = 1,
            RidingRing  = 10,
        }
    },

    [3475397644] = { -- Origins / Lobby
        WorldName = "Lobby",
        Missions = {
        EggQuest    = 1,
        RidingRing  = 10,
        }
    },

    [3475419198] = { -- Grassland
        WorldName = "Grassland",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
        }
    },

    [3475422608] = { -- Jungle
        WorldName = "Jungle",
        Missions = {
       EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },


  [3487210751] = { -- Volcano
        WorldName = "Volcano",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },

    [3623549100] = { -- Volcano
        WorldName = "Tundra",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },

 

     [3737848045] = { -- Volcano
        WorldName = "Ocean",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [3752680052] = { -- Volcano
        WorldName = "Desert",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [4174118306] = { -- Volcano
        WorldName = "Fantasy",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [4728805070] = { -- Volcano
        WorldName = "Toxic",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [4869039553] = { -- Volcano
        WorldName = "Prehistoric",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [125804922932357] = { -- Volcano
        WorldName = "Shinrin",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
}
local function isWorldFullyCompletedById(placeId)
    local config = WORLD_MISSION_REQUIREMENTS[placeId]
    if not config then
        warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ:", placeId)
        return false
    end

    local worldName = config.WorldName
    local missionList = config.Missions

    local ok, result = pcall(function()
        local missionFolder = Player.Data.WorldMissions[worldName].Missions

        for missionName, required in pairs(missionList) do
            local mission = missionFolder:FindFirstChild(missionName)
            if mission and mission:FindFirstChild("Progress") then
                if mission.Progress.Value < required then
                    return false
                end
            end
        end

        return true
    end)

    if not ok then
        warn("‚ö†Ô∏è ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", worldName, result)
        return false
    end

    return result
end
local function getNextUnfinishedWorld()
    for _, worldName in ipairs(WORLD_ORDER) do
        local placeId = WORLD_IDS[worldName]

        if WORLD_MISSION_REQUIREMENTS[placeId] then
            if not isWorldFullyCompletedById(placeId) then
                return worldName, placeId
            end
        end
    end

    return nil, nil
end
local function teleportToNextNeededWorld()
    local nextWorldName, nextPlaceId = getNextUnfinishedWorld()

    if not nextWorldName then
        print("üéâ ‡∏ó‡∏∏‡∏Å‡πÇ‡∏•‡∏Å‡∏ó‡∏≥‡∏Ñ‡∏£‡∏ö‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß!")
        return
    end

    print("üåç ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ:", nextWorldName, "‚Üí", nextPlaceId)

    -- üëá ‡πÉ‡∏ä‡πâ Remote ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
    local args = {
        nextPlaceId,
        {}
    }

    local ok, result = pcall(function()
        return ReplicatedStorage.Remotes.WorldTeleportRemote:InvokeServer(unpack(args))
    end)

    if ok then
        print("üöÄ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", nextWorldName)
    else
        warn("‚ùå ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", result)
    end
end










    ----------------------------------------------------
    -- üêâ ‡∏Ç‡∏µ‡πà + ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏≤‡∏Å workspace.Characters.PlayerName.Dragons)
    ----------------------------------------------------

    local player = game.Players.LocalPlayer
    local char = player.Character or player.CharacterAdded:Wait()
    local remotes = game:GetService("ReplicatedStorage"):WaitForChild("Remotes")

    -- üß© ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÉ‡∏ô workspace
    local dragonFolder = workspace:WaitForChild("Characters")
        :WaitForChild(player.Name)
        :WaitForChild("Dragons")

    -- üß© ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å‡πÉ‡∏ô Dragons
    local function getAutoDragon()
        local dragons = dragonFolder:GetChildren()
        if #dragons > 0 then
            return dragons[1]
        else
            return nil
        end
    end

    -- üß© ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£
    local function reviveDragon(dragonModel)
        local dragonName = dragonModel.Name
        local deadFlag = dragonModel:FindFirstChild("Data") and dragonModel.Data:FindFirstChild("Dead")

        if deadFlag and deadFlag.Value == true then
            print("üíÄ ‡∏°‡∏±‡∏á‡∏Å‡∏£", dragonName, "‡∏ï‡∏≤‡∏¢ ‚Äî ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏∑‡πâ‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏ä‡∏µ‡∏û...")
            local args = { dragonName, "DragonRevivalHeart" }

            local success, err = pcall(function()
                remotes:WaitForChild("ReviveDragonRemote"):InvokeServer(unpack(args))
            end)

            if success then
                print("‚ù§Ô∏è ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", dragonName)
                task.wait(1)
            else
                warn("‚ùå ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:", err)
            end
        end
    end

    -- üß† ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å (‡∏ü‡∏∑‡πâ‡∏ô + ‡∏Ç‡∏µ‡πà)
    local function ensureMountedDragon()
        local dragonModel = getAutoDragon()
        if not dragonModel then
            warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÉ‡∏ô workspace.Characters." .. player.Name .. ".Dragons")
            return
        end

        local targetName = dragonModel.Name

        -- üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏Å‡πà‡∏≠‡∏ô
        reviveDragon(dragonModel)

        -- ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏Ç‡∏µ‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏´‡∏°
        local humanoid = char:FindFirstChildOfClass("Humanoid")
        local currentSeat = humanoid and humanoid.SeatPart
        local currentMount = currentSeat and currentSeat:FindFirstAncestorWhichIsA("Model")

        if currentMount and currentMount:IsDescendantOf(dragonFolder) and currentMount.Name == targetName then
            return -- ‡∏Ç‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
        end

        -- ‚úÖ ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ç‡∏µ‡πà ‚Üí ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Seat ‡πÉ‡∏´‡∏°‡πà
        local seat = dragonModel:FindFirstChildWhichIsA("Seat", true)
        if seat then
            seat:Sit(humanoid)
            print("ü™∂ ‡∏Ç‡∏µ‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£:", targetName)

            task.wait(1)
            local flyBtn = player.PlayerGui
                :WaitForChild("HUDGui")
                .BottomFrame.CurrentDragonFrame.DragonControlsFrame.Other:FindFirstChild("Fly")

            if flyBtn and flyBtn:FindFirstChild("MouseButton1Down") then
                firesignal(flyBtn.MouseButton1Down)
                print("üõ´ ‡∏ö‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß!")
            end
        else
            warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö Seat ‡πÉ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£:", targetName)
        end
    end

    -- üîÅ ‡∏ï‡∏£‡∏ß‡∏à‡∏ã‡πâ‡∏≥‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥ (‡∏ü‡∏∑‡πâ‡∏ô + ‡∏Ç‡∏µ‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
    task.spawn(function()
        while true do
            task.wait(1)
            pcall(ensureMountedDragon)
        end
    end)

    -- üîÅ ‡∏ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏µ‡∏™‡∏õ‡∏≤‡∏ß‡∏ô‡πå ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏´‡∏°‡πà
    player.CharacterAdded:Connect(function(newChar)
        task.wait(3)
        char = newChar
        pcall(ensureMountedDragon)
    end)


    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local RunService = game:GetService("RunService")
    local UIS = game:GetService("UserInputService")

    ------------------------------------------------------------
    -- ‚öôÔ∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace
    ------------------------------------------------------------
    local function enableFlyControlUseSpace()
        local success, err = pcall(function()
            -- ‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á Setting
            local data = LocalPlayer:WaitForChild("Data", 5)
            if not data then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Data folder")
                return 
            end
            
            local settings = data:WaitForChild("Settings", 5)
            if not settings then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Settings folder")
                return 
            end
            
            local flyControlValue = settings:FindFirstChild("FlyControlUseSpace")
            if not flyControlValue then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö FlyControlUseSpace")
                return 
            end
            
            -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤
            if flyControlValue.Value == true then
                flyControlValue.Value = false
                print("‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace = true ‡πÅ‡∏•‡πâ‡∏ß")
            else
                print("‚úÖ FlyControlUseSpace ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (true)")
            end
        end)
        
        if not success then
            warn("‚ùå Error ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ FlyControlUseSpace:", err)
        end
    end

    ------------------------------------------------------------
    -- ‚å®Ô∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q
    ------------------------------------------------------------
    local function pressQ()
        -- ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ VirtualInputManager
        local VirtualInputManager = game:GetService("VirtualInputManager")
        
        -- ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏•‡∏á
        VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Q, false, game)
        
        -- ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà
        task.wait(0.05)
        
        -- ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏õ‡∏∏‡πà‡∏° Q
        VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Q, false, game)
        
        print("‚è´ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q")
    end

    ------------------------------------------------------------
    -- üõ©Ô∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à Flying ‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£ (‡∏Å‡∏±‡∏ô nil 100%)
    ------------------------------------------------------------
    local function getDragonFlyingState()
        -- ‡∏£‡∏≠ Character ‡∏ñ‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ô
        local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        if not char then return false end
        
        -- ‡∏´‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Dragons
        local dragonsFolder = char:FindFirstChild("Dragons")
        if not dragonsFolder then return false end
        
        -- ‡∏ß‡∏ô‡∏´‡∏≤‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ Data.Flying
        for _, dragon in ipairs(dragonsFolder:GetChildren()) do
            if dragon:IsA("Model") then
                local dataFolder = dragon:FindFirstChild("Data")
                if dataFolder then
                    local flyingValue = dataFolder:FindFirstChild("Flying")
                    if flyingValue and flyingValue.Value ~= nil then
                        return flyingValue.Value  -- true ‡∏´‡∏£‡∏∑‡∏≠ false
                    end
                end
            end
        end
        
        return false
    end

    ------------------------------------------------------------
    -- üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ù‡πâ‡∏≤‡∏î‡∏π‡πÅ‡∏•‡∏∞‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    ------------------------------------------------------------
    local function startFlyingMonitor()
        task.spawn(function()
            while true do
                task.wait(0.5)  -- ‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤ wait ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
                
                local isFlying = false
                local ok, result = pcall(function()
                    return getDragonFlyingState()
                end)
                
                if ok then
                    isFlying = result
                else
                    warn("‚ùå getDragonFlyingState Error:", result)
                end
                
                if not isFlying then
                    print("‚ö†Ô∏è ‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏Å / ‡πÑ‡∏°‡πà‡∏ö‡∏¥‡∏ô ‚Üí ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q!")
                    
                    -- ‡∏•‡∏≠‡∏á‡∏Å‡∏î Q 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à
                    pressQ()
                    task.wait(0.1)
                    pressQ()
                else
                    print("üü¢ Flying = true")
                end
            end
        end)
    end

    ------------------------------------------------------------
    -- üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    ------------------------------------------------------------
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÑ‡∏°‡πà‡∏ö‡∏¥‡∏ô")

    -- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace ‡∏Å‡πà‡∏≠‡∏ô
    enableFlyControlUseSpace()

    -- ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÉ‡∏´‡πâ Setting ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó
    task.wait(0.5)

    -- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ù‡πâ‡∏≤‡∏î‡∏π
    startFlyingMonitor()






    ---------------------------------------------------
    -- üåç GET CURRENT WORLD NAME
    ------------------------------------------------------------
    local function getWorldNameById(id)
        for name, wid in pairs(WORLD_IDS) do
            if wid == id then return name end
        end
        return nil
    end

    local currentWorldName = getWorldNameById(game.PlaceId)
    if not currentWorldName then
        warn("‚ùå ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö WORLD_IDS:", game.PlaceId)
        return
    end

    local function getMissionValue(missionName)
        local ok, result = pcall(function()
            return Player.Data.WorldMissions[currentWorldName].Missions[missionName].Progress.Value
        end)
        return ok and result or 0
    end

    local function isMissionDone(missionName, required)
        return getMissionValue(missionName) >= required
    end

    ------------------------------------------------------------
    -- üåü AUTO MISSION SHORTCUT FUNCTIONS
    ------------------------------------------------------------
    local function isEggDone()           return isMissionDone("EggQuest", 5) end
    local function isKillDone()          return isMissionDone("KillMobs", 15) end
    local function isHarvestDone()       return isMissionDone("Harvest", 50) end
    local function isTreasureDone()      return isMissionDone("TreasureChest", 3) end
    local function isKillBossDone()      return isMissionDone("KillBoss", 1) end
    local function isSpendTimeDone()     return isMissionDone("SpendTime", 450) end
------------------------------------------------------------
-- üñ•Ô∏è MISSION GUI HUD (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠ ‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà)
------------------------------------------------------------
local missionGui
local missionWorldLabel
local missionCurrentLabel
local missionLabels = {}          -- [missionName] = TextLabel
local missionConfigForGui = nil   -- ‡πÄ‡∏Å‡πá‡∏ö config ‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
local CURRENT_MISSION_NAME = "-"  -- ‡πÑ‡∏ß‡πâ‡πÇ‡∏ä‡∏ß‡πå‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™‡∏≠‡∏∞‡πÑ‡∏£

-- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥
local function setCurrentMission(name)
    CURRENT_MISSION_NAME = name or "-"
    if missionCurrentLabel then
        missionCurrentLabel.Text = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥: " .. tostring(CURRENT_MISSION_NAME)
    end
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á GUI ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
local function initMissionGui()
    if missionGui then return end

    local playerGui = Player:WaitForChild("PlayerGui")

    local gui = Instance.new("ScreenGui")
    gui.Name = "NexonMissionHUD"
    gui.ResetOnSpawn = false
    gui.IgnoreGuiInset = true
    gui.Parent = playerGui
    missionGui = gui

    local frame = Instance.new("Frame")
    frame.Name = "MissionFrame"
    frame.AnchorPoint = Vector2.new(0.5, 0.5)
    frame.Size = UDim2.new(0, 460, 0, 260)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0) -- ‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠
    frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    frame.BackgroundTransparency = 0.25
    frame.BorderSizePixel = 0
    frame.Parent = gui

    local stroke = Instance.new("UIStroke")
    stroke.Thickness = 2
    stroke.Color = Color3.fromRGB(255, 255, 255)
    stroke.Transparency = 0.4
    stroke.Parent = frame

    local title = Instance.new("TextLabel")
    title.Name = "WorldLabel"
    title.Size = UDim2.new(1, -20, 0, 40)
    title.Position = UDim2.new(0, 10, 0, 10)
    title.BackgroundTransparency = 1
    title.Font = Enum.Font.GothamBold
    title.TextSize = 26
    title.TextXAlignment = Enum.TextXAlignment.Center
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.Text = "World: -"
    title.Parent = frame
    missionWorldLabel = title

    local current = Instance.new("TextLabel")
    current.Name = "CurrentMissionLabel"
    current.Size = UDim2.new(1, -20, 0, 32)
    current.Position = UDim2.new(0, 10, 0, 55)
    current.BackgroundTransparency = 1
    current.Font = Enum.Font.GothamBold
    current.TextSize = 24
    current.TextXAlignment = Enum.TextXAlignment.Center
    current.TextColor3 = Color3.fromRGB(255, 255, 0)
    current.Text = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥: -"
    current.Parent = frame
    missionCurrentLabel = current

    local listFrame = Instance.new("Frame")
    listFrame.Name = "MissionList"
    listFrame.Size = UDim2.new(1, -40, 0, 140)
    listFrame.Position = UDim2.new(0, 20, 0, 100)
    listFrame.BackgroundTransparency = 1
    listFrame.Parent = frame

    local layout = Instance.new("UIListLayout")
    layout.FillDirection = Enum.FillDirection.Vertical
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.Padding = UDim.new(0, 4)
    layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    layout.Parent = listFrame
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ï‡∏≤‡∏°‡πÇ‡∏•‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
local function setupMissionGuiForCurrentWorld()
    initMissionGui()

    local placeId = game.PlaceId
    local config = WORLD_MISSION_REQUIREMENTS[placeId]
    missionConfigForGui = config

    -- ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå label ‡πÄ‡∏Å‡πà‡∏≤
    missionLabels = {}
    if missionGui and missionGui:FindFirstChild("MissionFrame") then
        local listFrame = missionGui.MissionFrame:FindFirstChild("MissionList")
        if listFrame then
            for _, child in ipairs(listFrame:GetChildren()) do
                if child:IsA("TextLabel") then
                    child:Destroy()
                end
            end
        end
    end

    if not config then
        if missionWorldLabel then
            missionWorldLabel.Text = "World: Unknown (" .. tostring(placeId) .. ")"
        end
        return
    end

    if missionWorldLabel then
        missionWorldLabel.Text = "World: " .. tostring(config.WorldName)
    end

    local listFrame = missionGui.MissionFrame.MissionList

    for missionName, required in pairs(config.Missions) do
        local label = Instance.new("TextLabel")
        label.Name = "Mission_" .. missionName
        label.Size = UDim2.new(1, 0, 0, 24)
        label.BackgroundTransparency = 1
        label.Font = Enum.Font.Gotham
        label.TextSize = 20
        label.TextXAlignment = Enum.TextXAlignment.Center
        label.TextColor3 = Color3.fromRGB(230, 230, 230)
        label.Text = string.format("%s : 0 / %d", missionName, required)
        label.Parent = listFrame

        missionLabels[missionName] = label
    end

    -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° current mission ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
    setCurrentMission(CURRENT_MISSION_NAME)
end

-- ‡∏ß‡∏ô loop ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤ Progress ‡∏•‡∏á GUI
task.spawn(function()
    while true do
        task.wait(1)

        if missionConfigForGui and missionLabels then
            pcall(function()
                for missionName, required in pairs(missionConfigForGui.Missions) do
                    local label = missionLabels[missionName]
                    if label then
                        local current = getMissionValue(missionName)
                        label.Text = string.format("%s : %d / %d", missionName, current, required)
                    end
                end
            end)
        end
    end
end)

-- üîî ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏° (‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì currentWorldName ‡πÅ‡∏•‡πâ‡∏ß)
setupMissionGuiForCurrentWorld()
setCurrentMission("Idle")




    ---------------------------------------
    -----------------------
    -- üåü Progress Getter Functions (Optional)
    ------------------------------------------------------------
    local function getEggProgress()      return getMissionValue("EggQuest") end
    local function getKillProgress()     return getMissionValue("KillMobs") end
    local function getHarvestProgress()  return getMissionValue("Harvest") end
    local function getTreasureProgress() return getMissionValue("TreasureChest") end
    local function getKillBossProgress() return getMissionValue("KillBoss") end
    local function getSpendTimeProgress()return getMissionValue("SpendTime") end




    local function getNextWorldId(currentWorld)
        for i = 1, #WORLD_ORDER do
            if WORLD_ORDER[i] == currentWorld then
                local nextIndex = i + 1
                if nextIndex <= #WORLD_ORDER then
                    local nextWorldName = WORLD_ORDER[nextIndex]
                    return WORLD_IDS[nextWorldName]
                end
            end
        end
        return nil
    end

    local function teleportToNextWorldAuto()
        local currentId = game.PlaceId
        local currentWorldName = getWorldNameById(currentId)
        if not currentWorldName then
            warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏•‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ID:", currentId)
            return
        end

        local nextId = getNextWorldId(currentWorldName)
        if not nextId then
            print("üéâ ‡∏ñ‡∏∂‡∏á‡πÇ‡∏•‡∏Å‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ")
            return
        end

        print("üåç ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ:", currentWorldName, "‚Üí ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ:", nextId)

        local remotes = ReplicatedStorage:WaitForChild("Remotes")
        local ok, result = pcall(function()
            return remotes:WaitForChild("WorldTeleportRemote"):InvokeServer(nextId, {})
        end)

        if ok then
            print("üöÄ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÇ‡∏•‡∏Å‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚Üí", nextId)
        else
            warn("‚ùå ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", result)
        end
    end


    -----------
    ---
    ---
    ----------------------------------------------------
    -- ü•ö PART 1 : GRASSLAND EGG QUEST (5/5)
    ------------------------------------------------------------
    local function tpToGrassEgg()
        if isEggDone() then return end

        print("ü•ö ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏Ç‡πà...")

        local folder =
            Workspace:FindFirstChild("Interactions")
            and Workspace.Interactions.Nodes
            and Workspace.Interactions.Nodes:FindFirstChild("Eggs")
            and Workspace.Interactions.Nodes.Eggs:FindFirstChild("ActiveNodes")

        if not folder then return end

        for _, node in ipairs(folder:GetChildren()) do
            if isEggDone() then break end

            local egg = node:FindFirstChild("EggModel")
            if egg and egg:FindFirstChild("Harvested") and not egg.Harvested.Value then
                local tp = egg.PrimaryPart or egg:FindFirstChildWhichIsA("BasePart")
                if tp then
                    HRP.CFrame = tp.CFrame + Vector3.new(0,4,0)
                    egg.Harvested.Value = true
                    task.wait(5)
                end
            end
        end
    end

    local function startEggQuest()
        if isEggDone() then
            print("ü•ö ‡∏Ç‡πâ‡∏≤‡∏°: ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
            return
        end

        print("üî• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà (0/5)")

        while not isEggDone() do
            tpToGrassEgg()
            task.wait(1)
        end

        print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå! (5/5)")
    end




------------------------------------------------------------
-- ‚öîÔ∏è PART 2 : AUTO DETECT & KILL 15 MOBS
------------------------------------------------------------
local function detectGrasslandMobs()
    local folder = Workspace:FindFirstChild("MobFolder")
    if not folder then return {} end

    local detected = {}
    for _, mobGroup in ipairs(folder:GetChildren()) do
        for _, obj in ipairs(mobGroup:GetChildren()) do
            if (obj:IsA("Model") or obj:IsA("BasePart")) and obj:FindFirstChild("Health") then
                table.insert(detected, obj.Name)
            end
        end
    end
    return detected
end

local TARGET_MOBS = detectGrasslandMobs()
if #TARGET_MOBS == 0 then
    warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ Mob")
    return
end

local function GetDragon()
    local dragons = Character:FindFirstChild("Dragons")
    if not dragons then return nil end

    for _, d in ipairs(dragons:GetChildren()) do
        if d:IsA("Model") and d:FindFirstChild("Remotes") then
            return d
        end
    end
end

local function teleportTo(pos)
    Character:PivotTo(CFrame.new(pos + Vector3.new(0,3,0)))
end

local function performBreath()
    local dragon = GetDragon()
    if not dragon then return end
    local fire = dragon.Remotes:FindFirstChild("BreathFireRemote")
    if fire then
        for _ = 1, 3 do
            fire:FireServer(true)
        end
    end
    VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.F, false, game)
    task.wait(0.05)
    VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.F, false, game)
end

local function getMobPosition(m)
    if m:IsA("Model") then
        if m.PrimaryPart then return m.PrimaryPart.Position end
        local p = m:FindFirstChildWhichIsA("BasePart", true)
        if p then return p.Position end
    else
        return m.Position
    end
end

local function findMob()
    local folder = Workspace:FindFirstChild("MobFolder")
    if not folder then return nil end

    for _, mobGroup in ipairs(folder:GetChildren()) do
        for _, name in ipairs(TARGET_MOBS) do
            local mob = mobGroup:FindFirstChild(name)
            if mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 then
                return mob
            end
        end
    end
    return nil
end

local function attackMob(mob)
    local dragon = GetDragon()
    if not dragon then return end
    local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
    if not remote then return end

    task.spawn(function()
        while mob:FindFirstChild("Health") and mob.Health.Value > 0 do
            remote:FireServer("Breath","Mobs",mob)
            RunService.Heartbeat:Wait()
        end
    end)
end

------------------------------------------------------------
-- üîç ‡∏à‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏°‡∏≠‡∏ô ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠
------------------------------------------------------------
local SEARCH_POINTS = {
    Vector3.new(1335, 193, -254),
    Vector3.new(134, 73, -139),
    Vector3.new(-722, 9, 247),
    Vector3.new(444, 261, 615),
    Vector3.new(-28, 368, -181),
    Vector3.new(-1719, 109, -1102),
    Vector3.new(1763, 363, -22),
    Vector3.new(2148, 588, 1272),
}

local currentSearchIndex = 1

local function teleportNextSearchPoint()
    if not HRP then return end

    local pos = SEARCH_POINTS[currentSearchIndex]
    if pos then
        HRP.CFrame = CFrame.new(pos + Vector3.new(0, 5, 0))
        print("üîç ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ #" .. currentSearchIndex, pos)
    end

    currentSearchIndex += 1
    if currentSearchIndex > #SEARCH_POINTS then
        currentSearchIndex = 1
    end
end

------------------------------------------------------------
-- üöÄ MAIN KILL LOOP (‡∏ß‡∏ô‡∏ï‡∏µ + ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏´‡∏≤‡∏°‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å 2 ‡∏ß‡∏¥‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠)
------------------------------------------------------------
local function startKillQuest()
    if isKillDone() then
        print("‚öîÔ∏è ‡∏Ç‡πâ‡∏≤‡∏°: ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
        return
    end

    print("‚öîÔ∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô (0/15)")

    while not isKillDone() do
        local mob = findMob()

        if mob then
            -- ‚úÖ ‡πÄ‡∏à‡∏≠‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ, ‡∏ï‡∏µ, ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÑ‡∏ü
            local pos = getMobPosition(mob)
            if pos then
                teleportTo(pos)
            end

            attackMob(mob)
            performBreath()

            while mob:FindFirstChild("Health") and mob.Health.Value > 0 do
                task.wait(0.05)
            end

            print("üíÄ Progress:", getKillProgress() .. "/15")
        else
            -- ‚ùå ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô‡∏ï‡∏≤‡∏° SEARCH_POINTS ‡∏ó‡∏µ‡∏•‡∏∞‡∏à‡∏∏‡∏î ‡∏û‡∏±‡∏Å 2 ‡∏ß‡∏¥
            teleportNextSearchPoint()
            task.wait(2)
        end

        task.wait(0.1)
    end

    print("üéâ ‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô‡∏Ñ‡∏£‡∏ö 15/15")
end





    ------------------------------------------------------------
    -- üçì ‡∏î‡∏π‡∏î‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß (‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡∏°‡πà ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô 100%)
    ------------------------------------------------------------
    local function collectFoodItems()
        local cam = workspace:FindFirstChild("Camera")
        if not cam then return end
        if not HRP then return end

        local foodNames = {
            "AppleFoodModel","LemonFoodModel","CornFoodModel","CarrotFoodModel","PearFoodModel",
            "StrawberryFoodModel","PeachFoodModel","PotatoFoodModel","BroccoliFoodModel","CherryFoodModel",
            "BuleberryFoodModel","MushroomFoodModel","BananaFoodModel","AlmondFoodModel","OnionFoodModel",
            "KelpFoodModel","GrapesFoodModel","WatermelonFoodModel","PricklyPearFoodModel","ChiliFoodModel",
            "GlowingMushroomFoodModel","PineappleFoodModel","CottonCandyFoodModel","JuniperBerryFoodModel",
            "LimeFoodModel","DragonfruitFoodModel","AvacadoFoodModel","CacaoBeanFoodModel",
            "CoconutFoodModel","EdamameFoodModel","KajiFruitFoodModel","MistSudachiFoodModel",
            "PumpkinFoodModel"
        }

        for _, item in ipairs(cam:GetChildren()) do
            if table.find(foodNames, item.Name) then
                
                -- ‡∏¢‡πâ‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å BasePart ‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏≤
                for _, part in ipairs(item:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CFrame = HRP.CFrame
                    end
                end
            end
        end
    end


    ------------------------------------------------------------
    -- üê≤ ‡∏´‡∏≤‡∏£‡∏µ‡πÇ‡∏°‡∏ó‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ (‡πÑ‡∏°‡πà‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç)
    ------------------------------------------------------------
    local function getAnyDragonRemote()
        local dragons = Player.Character:WaitForChild("Dragons")

        for _, dragon in ipairs(dragons:GetChildren()) do
            if dragon:IsA("Model") and dragon:FindFirstChild("Remotes") then
                local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
                if remote then
                    return remote, dragon
                end
            end
        end

        return nil, nil
    end



    local SEARCH_POINTS = {
        Vector3.new(1335, 193, -254),
        Vector3.new(134, 73, -139),
        Vector3.new(-722, 9, 247),
        Vector3.new(444, 261, 615),
        Vector3.new(-28, 368, -181),
         Vector3.new(-1719, 109, -1102),
          Vector3.new(1763, 363, -22),
             Vector3.new(2148, 588, 1272),


    }

    local function teleportRandomSearchPoint()
        if not HRP then return end
        local pos = SEARCH_POINTS[math.random(1, #SEARCH_POINTS)]
        HRP.CFrame = CFrame.new(pos + Vector3.new(0, 5, 0))
        print("üîç ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà:", pos)
    end

    ------------------------------------------------------------
    -- üå≤ ‡∏ï‡∏µ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ
    ------------------------------------------------------------
    local function attackFoodNodes()
        if isHarvestDone() then
            print("üå≥ ‡∏Ç‡πâ‡∏≤‡∏°: Harvest ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
            return
        end

        local folder = Workspace.Interactions.Nodes:FindFirstChild("Food")
        if not folder then
            warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Food")
            return
        end

        print("üå≥ ‡πÄ‡∏£‡∏¥‡πà‡∏° Harvest (0/50)")

        while not isHarvestDone() do

            local foundTree = false

            for _, node in ipairs(folder:GetChildren()) do
                if isHarvestDone() then break end

                local b = node:FindFirstChild("BillboardPart")
                local hp = b and b:FindFirstChild("Health")

                if b and hp and hp.Value > 0 then
                    foundTree = true

                    HRP.CFrame = b.CFrame + Vector3.new(0,6,0)
                    print("üå≤ ‡∏ï‡∏µ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ:", node.Name)

                    while hp.Value > 0 and not isHarvestDone() do

                        -- ‡πÉ‡∏ä‡πâ‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ
                        local remote, dragon = getAnyDragonRemote()
                        if remote then
                            remote:FireServer("Breath","Destructibles", b)
                        end

                        -- ‡∏î‡∏π‡∏î‡∏ú‡∏•‡πÑ‡∏°‡πâ
                        collectFoodItems()

                        task.wait(0.15)
                    end

                    print("üå≤ Harvest:", getHarvestProgress() .. "/50")
                    task.wait(1)
                end
            end

            ------------------------------------------------
            -- ‚≠ê ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ ‚Üí Auto Teleport
            ------------------------------------------------
            if not foundTree then
                print("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏´‡∏≤‡∏à‡∏∏‡∏î‡πÉ‡∏´‡∏°‡πà...")
                teleportRandomSearchPoint()
                task.wait(1.5)
            end
        end

        print("üéâ Harvest ‡∏Ñ‡∏£‡∏ö 50 ‡πÅ‡∏•‡πâ‡∏ß!")
    end


    ------------------------------------------------------------
    -- ‚öîÔ∏è ADVANCED MOB FINDER (‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á)
    ------------------------------------------------------------
    local function ultraFindMob()
        local mobs = {}

        -- ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á 1 : MobFolder ‡∏ó‡∏±‡πà‡∏ß‡πÄ‡∏Å‡∏°
        local folder = Workspace:FindFirstChild("MobFolder")
        if folder then
            for _, mobGroup in ipairs(folder:GetChildren()) do
                for _, mobName in ipairs(TARGET_MOBS) do
                    local mob = mobGroup:FindFirstChild(mobName)
                    if mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 then
                        table.insert(mobs, mob)
                    end
                end
            end
        end

        -- ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á 2 : ActiveMobs (‡∏ö‡∏≤‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå spawn ‡∏ï‡∏≤‡∏° Global)
        local activePath =
            Workspace:FindFirstChild("Interactions")
            and Workspace.Interactions:FindFirstChild("Nodes")
            and Workspace.Interactions.Nodes:FindFirstChild("Mobs")
            and Workspace.Interactions.Nodes.Mobs:FindFirstChild("ActiveMobs")
            and Workspace.Interactions.Nodes.Mobs.ActiveMobs:FindFirstChild("Global")

        if activePath then
            for _, obj in ipairs(activePath:GetChildren()) do
                if obj:FindFirstChild("Health") and obj.Health.Value > 0 then
                    table.insert(mobs, obj)
                end
            end
        end

        if #mobs == 0 then return nil end

        -- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏∏‡∏î
        table.sort(mobs, function(a,b)
            local pa = getMobPosition(a)
            local pb = getMobPosition(b)
            if not pa or not pb then return false end
            return (pa - HRP.Position).Magnitude < (pb - HRP.Position).Magnitude
        end)

        return mobs[1]
    end


    ------------------------------------------------------------
    -- ‚ö° SUPER FAST ATTACK (‡∏¢‡∏¥‡∏á PlaySoundRemote ‡πÉ‡∏™‡πà Mob ‡πÅ‡∏ö‡∏ö‡πÇ‡∏´‡∏î)
    ------------------------------------------------------------
    local function ultraAttackMob(mob)
        local dragon = GetDragon()
        if not dragon then return end

        local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
        if not remote then return end

        task.spawn(function()
            while mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 do
                remote:FireServer("Breath","Mobs",mob)
                RunService.Heartbeat:Wait() -- ‡πÅ‡∏£‡∏á ‡πÄ‡∏£‡πá‡∏ß ‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£
            end
        end)
    end

    local function startKillQuest()
        if isKillDone() then
            print("‚öîÔ∏è ‡∏Ç‡πâ‡∏≤‡∏°: ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
            return
        end

        print("‚öîÔ∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô (0/15)")

        while not isKillDone() do
            local mob = ultraFindMob()
            if mob then
                teleportTo( getMobPosition(mob) )
                ultraAttackMob(mob)
                performBreath()

                while mob and mob.Health.Value > 0 do task.wait(0.05) end

                print("üíÄ Progress:", getKillProgress() .. "/15")
            else
                print("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô ‚Üí ‡∏£‡∏≠ Spawn")
                task.wait(1)
            end

            task.wait(0.1)
        end

        print("üéâ ‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô‡∏Ñ‡∏£‡∏ö 15/15")
    end


------------------------------------------------------------
-- üíé 1) ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥
------------------------------------------------------------
local itemNames = {
    "SilverChest",
    "BronzeChest",
    "GoldChest",
    "SpookyChest",
    "AspookyChest"
}

------------------------------------------------------------
-- ‚úàÔ∏è 2) ‡∏à‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô‡∏´‡∏≤ (‡πÅ‡∏Å‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
------------------------------------------------------------
local teleportPoints = {
    Vector3.new(1335, 193, -254),
    Vector3.new(134, 73, -139),
    Vector3.new(-722, 9, 247),
    Vector3.new(444, 261, 615),
    Vector3.new(-28, 368, -181),
    Vector3.new(-1719, 109, -1102),
    Vector3.new(1763, 363, -22),
    Vector3.new(2148, 588, 1272),
}

local scanning = false
local currentIndex = 1

------------------------------------------------------------
-- üîç 4) ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏™‡∏î (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà Dead)
------------------------------------------------------------
function findItemsByName(names)
    names = names or itemNames

    if type(names) ~= "table" then
        warn("‚ùå itemNames ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà table")
        return {}
    end

    local foundItems = {}
    local treasureRoot = workspace:FindFirstChild("Interactions")
        and workspace.Interactions:FindFirstChild("Nodes")
        and workspace.Interactions.Nodes:FindFirstChild("Treasure")

    if not treasureRoot then
        return foundItems
    end

    -- ‡πÑ‡∏•‡πà‡πÄ‡∏ä‡πá‡∏Ñ node 1‚Äì100 ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
    for i = 1, 100 do
        local node = treasureRoot:FindFirstChild(tostring(i))
        if node then
            for _, name in ipairs(names) do
                local chest = node:FindFirstChild(name)
                if chest and chest:FindFirstChild("HumanoidRootPart") then
                    local hrp = chest.HumanoidRootPart
                    local dead = hrp:FindFirstChild("Dead")
                    if dead and not dead.Value then
                        table.insert(foundItems, hrp)
                    end
                end
            end
        end
    end

    return foundItems
end

------------------------------------------------------------
-- ‚úàÔ∏è 3) ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô‡∏´‡∏≤ ACTIVE CHEST (‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ + ‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ)
------------------------------------------------------------
function startOrbitScan()
    if scanning then return end
    scanning = true
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏≤‡∏°‡∏à‡∏∏‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á...")

    task.spawn(function()
        while scanning and not isTreasureDone() do
            ------------------------------------------------
            -- 1) ‡πÄ‡∏ä‡πá‡∏Ñ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏ß‡∏≤‡∏£‡πå‡∏õ
            ------------------------------------------------
            local preItems = findItemsByName(itemNames)
            if #preItems > 0 then
                print("üì¶ ‡πÄ‡∏à‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô")
                scanning = false
                return
            end

            ------------------------------------------------
            -- 2) ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            ------------------------------------------------
            local char = Player.Character or Player.CharacterAdded:Wait()
            local hrp = char:WaitForChild("HumanoidRootPart")

            local targetPos = teleportPoints[currentIndex]
            if targetPos then
                hrp.CFrame = CFrame.new(targetPos + Vector3.new(0, 5, 0))
                print("üìç ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà:", currentIndex, targetPos)
            end

            currentIndex += 1
            if currentIndex > #teleportPoints then
                currentIndex = 1
            end

            ------------------------------------------------
            -- 3) ‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ ‡∏£‡∏≠ 2 ‡∏ß‡∏¥ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö
            ------------------------------------------------
            task.wait(2)

            local postItems = findItemsByName(itemNames)
            if #postItems > 0 then
                print("üì¶ ‡∏û‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠")
                scanning = false
                return
            end
        end
    end)
end

function stopOrbitScan()
    if not scanning then return end
    scanning = false
    print("üõë ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡πâ‡∏ß")
end

------------------------------------------------------------
-- üß≠ 5) ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á
------------------------------------------------------------
function teleportToItem(item)
    local char = Player.Character
    if char and char.PrimaryPart and item then
        char:SetPrimaryPartCFrame(item.CFrame * CFrame.new(0, 5, 0))
        print("üì¶ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á:", item.Parent.Name)
    end
end

------------------------------------------------------------
-- ‚öôÔ∏è 6) ‡∏ï‡∏±‡πâ‡∏á Dead = true
------------------------------------------------------------
function setItemDead(item)
    if not item or not item.Parent then return end

    local dead = item.Parent.HumanoidRootPart:FindFirstChild("Dead")
    if dead then
        dead.Value = true
        print("‚ò†Ô∏è ‡∏ï‡∏±‡πâ‡∏á Dead ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡πà‡∏≠‡∏á:", item.Parent.Name)
    end
end

local function teleportToNextWorld()
    wait(5)
    teleportToNextWorldAuto()
end

------------------------------------------------------------
-- üíé 7) AUTO TREASURE (‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏à‡∏ô Progress = 3)
------------------------------------------------------------
function startAutoTeleportTreasure()
    autoTeleportTreasure = true
    print("üíé ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ñ‡∏ß‡∏™ Treasure Chest (0/3)...")

    local lastCheck = os.clock()

    task.spawn(function()
        while autoTeleportTreasure and not isTreasureDone() do
            if os.clock() - lastCheck >= 1 then
                lastCheck = os.clock()

                -- ‚úÖ ‡πÄ‡∏ä‡πá‡∏Ñ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏∏‡∏Å ‡πÜ ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÉ‡∏ô loop ‡∏´‡∏•‡∏±‡∏Å
                local items = findItemsByName(itemNames)

                if #items > 0 then
                    -- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠ ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏™‡πÅ‡∏Å‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÄ‡∏Å‡πá‡∏ö
                    stopOrbitScan()

                    local target = items[1]
                    local dead = target:FindFirstChild("Dead")

                    if dead and not dead.Value then
                        teleportToItem(target)
                        setItemDead(target)
                        print("üíé ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°! ‡πÄ‡∏Ñ‡∏ß‡∏™:", getTreasureProgress(), "/3")
                        task.wait(3)
                    end

                else
                    -- ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡πÄ‡∏•‡∏¢‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ ‚Üí ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
                    if not scanning then
                        print("üîé ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏´‡∏≤...")
                        startOrbitScan()
                    end
                end
            end

            RunService.Heartbeat:Wait()
        end

        if isTreasureDone() then
            autoTeleportTreasure = false
            stopOrbitScan()
            print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™ Treasure Chest ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! (3/3)")
        end
    end)
end

function stopAutoTeleportTreasure()
    autoTeleportTreasure = false
    stopOrbitScan()
end










    -- üß± SERVICES
    local Players = game:GetService("Players")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Workspace = game:GetService("Workspace")
    local RunService = game:GetService("RunService")

    local Player = Players.LocalPlayer

    -- ‚öôÔ∏è SETTINGS
    local ATTACKS_PER_CYCLE = 50
    local MAX_FARM_RANGE = 350
    local WORLD_TARGETS = {
        [3475397644] = {"Boar", "BoarElite", "Falcon", "Owl", "OwlSnow"},
        [3475419198] = {"BoarElite", "Falcon", "Owl", "OwlSnow","Boar"},
        [3475422608] = {"CaveBat", "Crocodile", "Monkey"},
        [3487210751] = {"Elemental", "Gargoyle", "Salamander"},
        [3623549100] = {"Eagle", "SnowBoar","OwlSnow"},
        [3737848045] = {"Crab", "Lionfish", "Pufferfish"},
        [3752680052] = {"DesertScarab", "Scorpion", "Vulture"},
        [4174118306] = {"Hydra", "Mimic", "MythicalDeer"},
        [4728805070] = {"MantaRay", "Slime"},
        [4869039553] = {"Dimorph", "Ptero", "Stego"},
        [125804922932357] = {"EliteKappa","EliteKitsuneFox","EliteWanyudo","Kappa","KiriFogGhost","KitsuneFox","Wanyudo"}
    }

    -- üî¥ CONTROL FLAG
    local stopAll = false

    -- üö´ SAFE DESTROY OLD REMOTE
    pcall(function()
        local remotes = ReplicatedStorage:FindFirstChild("Remotes")
        if remotes then
            local target = remotes:FindFirstChild("MobDamageRemote")
            if target then target:Destroy() end
        end
    end)

    --========================================================--
    -- üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss (Desert) ‡∏ß‡πà‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
    --========================================================--


    -- üê≤ GET ANY DRAGON
    local function GetAnyDragon()
        local char = Player.Character or Player.CharacterAdded:Wait()
        local dragons = char:FindFirstChild("Dragons")
        if not dragons then return nil end
        for _, dragon in pairs(dragons:GetChildren()) do
            if dragon:IsA("Model") and dragon:FindFirstChild("Remotes") and dragon.Remotes:FindFirstChild("PlaySoundRemote") then
                return dragon
            end
        end
        return nil
    end

    -- üì¶ TELEPORT (SAFE)
    local function teleportToPosition(pos)
        local char = Player.Character
        if char and char.PrimaryPart then
            local dist = (char.PrimaryPart.Position - pos).Magnitude
            if dist > 5 then
                for _, part in ipairs(char:GetDescendants()) do
                    if part:IsA("BasePart") then part.CanCollide = false end
                end
                char:PivotTo(CFrame.new(pos))
                task.wait(math.clamp(dist / 150, 0.1, 1))
                for _, part in ipairs(char:GetDescendants()) do
                    if part:IsA("BasePart") then part.CanCollide = true end
                end
            end
        end
    end

    -- ü¶¥ ATTACK MOB
    local function hyperAttackMob(mob, dragon)
        local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
        if not remote then return end
        task.spawn(function()
            for i = 1, ATTACKS_PER_CYCLE do
                if stopAll then break end
                pcall(function()
                    remote:FireServer("Breath", "Mobs", mob)
                end)
                if mob:FindFirstChild("Health") and mob.Health.Value <= 0 then break end
                RunService.Heartbeat:Wait()
            end
        end)
    end

    -- üîç FIND MOB WITH HEALTH
    local function findMobWithHealth()
        local folder = workspace:FindFirstChild("MobFolder")
        local root = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
        if not folder or not root then return nil end

        local currentWorldId = game.PlaceId
        local mobList = WORLD_TARGETS[currentWorldId]

        if not mobList then
            warn("‚ùå ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏°‡∏≠‡∏ô")
            return nil
        end

        for _, mobGroup in pairs(folder:GetChildren()) do
            for _, mobName in pairs(mobList) do
                local mob = mobGroup:FindFirstChild(mobName)
                if mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 then
                    local pos = mob:IsA("Model") and mob.PrimaryPart and mob.PrimaryPart.Position or (mob:IsA("BasePart") and mob.Position)
                    if pos and (pos - root.Position).Magnitude <= MAX_FARM_RANGE then
                        return mob
                    end
                end
            end
        end
        return nil
    end
    -- üõ†Ô∏è START BOSS FIGHT (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡∏°‡πà: 8 ‡∏ß‡∏¥‡πÅ‡∏£‡∏Å‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏°‡πà‡∏•‡∏î ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ã‡πâ‡∏≥, ‡∏ñ‡πâ‡∏≤ 2 ‡∏ß‡∏¥‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤ ‚Üí ‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö)
local function startBossFight()
    print("üî• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö Boss Fight ‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞...")

    if isKillBossDone() then
        print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (1/1)! ‡∏Ç‡πâ‡∏≤‡∏°‡∏ö‡∏≠‡∏™")
        return
    end

    -- ‚ñ∂Ô∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏¥‡∏ß
    pcall(function()
        ReplicatedStorage.Remotes.CreateBossQueueRemote:InvokeServer("NoOne")
    end)
    task.wait(6)

    -- ‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏≠‡∏™
    pcall(function()
        ReplicatedStorage.Remotes.StartBossQueueRemote:InvokeServer()
    end)
    task.wait(17)

    -- ‡∏´‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ö‡∏≠‡∏™
    local bossModels = Workspace:FindFirstChild("ActiveBossModels")
    if not bossModels then warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏≠‡∏™") return end

    local targetModel
    for _, m in ipairs(bossModels:GetChildren()) do
        if m:FindFirstChild("HumanoidRootPart") then
            targetModel = m
            break
        end
    end
    if not targetModel then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ HRP ‡∏ö‡∏≠‡∏™")
        return
    end

    -- HP path
    local bossName = targetModel.Name
    local bossHP = Workspace.Interactions.Boss.BossInstances:FindFirstChild(bossName)
    if not bossHP or not bossHP:FindFirstChild("Health") then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• HP ‡∏ö‡∏≠‡∏™")
        return
    end

    -- Remote
    local dragon = GetAnyDragon()
    if not dragon then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏°‡∏±‡∏á‡∏Å‡∏£")
        return
    end

    local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
    if not remote then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ PlaySoundRemote")
        return
    end

    local bossHRP = targetModel.HumanoidRootPart
    local lastHP = bossHP.Health.Value

    -- üïí ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ 8 ‡∏ß‡∏¥‡πÅ‡∏£‡∏Å
    local firstHP = bossHP.Health.Value          -- ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏µ
    local firstWarpTime = tick()                 -- ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ö‡∏≠‡∏™
    local retriedWarpOnce = false                -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ã‡πâ‡∏≥‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

    -- ‚è± ‡∏ï‡∏±‡∏ß‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ HP ‡πÑ‡∏°‡πà‡∏•‡∏î (‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏° 2 ‡∏ß‡∏¥ ‚Üí ‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö)
    local noDamageTime = 0
    local mode = "BOSS"  -- ‡∏°‡∏µ 2 ‡πÇ‡∏´‡∏°‡∏î: "BOSS" ‡πÅ‡∏•‡∏∞ "MOB"

    print("‚öîÔ∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏ö‡∏≠‡∏™‡πÅ‡∏ö‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡∏ß...")

    -- üî• Loop ‡∏´‡∏•‡∏±‡∏Å
    while bossHP.Health.Value > 0 and not isKillBossDone() do

        -----------------------------
        -- üìå ‡πÇ‡∏´‡∏°‡∏î 1: ‡∏ï‡∏µ‡∏ö‡∏≠‡∏™‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
        -----------------------------
        if mode == "BOSS" then
            -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏¥‡∏î‡∏ö‡∏≠‡∏™‡∏ó‡∏∏‡∏Å ‡πÜ ‡∏£‡∏≠‡∏ö (‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏î)
            if Player.Character and Player.Character.PrimaryPart then
                teleportToPosition(bossHRP.Position + Vector3.new(0, 4, 0))
            end

            -- ‡∏¢‡∏¥‡∏á‡∏£‡∏±‡∏ß‡πÉ‡∏™‡πà‡∏ö‡∏≠‡∏™
            pcall(function()
                remote:FireServer("Breath", "Bosses", bossHRP)
            end)

            -- ‡∏ï‡∏£‡∏ß‡∏à HP ‡∏ß‡πà‡∏≤‡∏•‡∏î‡πÑ‡∏´‡∏° (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö logic 2 ‡∏ß‡∏¥ ‡πÄ‡∏î‡∏¥‡∏°)
            if bossHP.Health.Value == lastHP then
                noDamageTime += 0.1
            else
                noDamageTime = 0
            end

            -- ‚≠ê 8 ‡∏ß‡∏¥‡πÅ‡∏£‡∏Å‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏µ‡∏ö‡∏≠‡∏™ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏°‡πà‡∏•‡∏î‡πÄ‡∏•‡∏¢ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ï‡∏¥‡∏î‡∏ö‡∏≠‡∏™‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö
            if (not retriedWarpOnce)
                and (tick() - firstWarpTime >= 8)
                and (bossHP.Health.Value == firstHP) then

                print("‚è±Ô∏è 8 ‡∏ß‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏≠‡∏™‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô‡∏î‡∏≤‡πÄ‡∏°‡∏à‡πÄ‡∏•‡∏¢ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ã‡πâ‡∏≥‡πÑ‡∏õ‡∏ï‡∏¥‡∏î‡∏ö‡∏≠‡∏™‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á")

                if Player.Character and Player.Character.PrimaryPart then
                    teleportToPosition(bossHRP.Position + Vector3.new(0, 4, 0))
                end

                retriedWarpOnce = true
            end

            -- ‡∏ñ‡πâ‡∏≤ 2 ‡∏ß‡∏¥ HP ‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö‡πÅ‡∏Å‡πâ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤‡∏á
            if noDamageTime >= 2 then
                print("‚ö†Ô∏è 2 ‡∏ß‡∏¥ HP ‡∏ö‡∏≠‡∏™‡πÑ‡∏°‡πà‡∏•‡∏î ‚Üí ‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö‡πÅ‡∏Å‡πâ‡∏Ñ‡πâ‡∏≤‡∏á!")
                mode = "MOB"
            end
        end

        -----------------------------
        -- üìå ‡πÇ‡∏´‡∏°‡∏î 2: ‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö‡∏à‡∏ô‡∏ö‡∏≠‡∏™‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏î
        -----------------------------
        if mode == "MOB" then
            local mob = findMobWithHealth()
            local d = GetAnyDragon()

            if mob and d then
                local mobPos = mob:IsA("Model") and mob.PrimaryPart.Position or mob.Position
                teleportToPosition(mobPos)
                hyperAttackMob(mob, d)
                task.wait(0.5)
            end

            -- ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ï‡∏µ‡∏ö‡∏≠‡∏™ (‡∏û‡∏≠‡∏ö‡∏≠‡∏™‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á)
            if bossHP.Health.Value < lastHP then
                print("üí• ‡∏ö‡∏≠‡∏™‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÇ‡∏î‡∏ô‡∏î‡∏≤‡πÄ‡∏°‡∏à ‚Üí ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ï‡∏µ‡∏ö‡∏≠‡∏™‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!")
                mode = "BOSS"
                noDamageTime = 0
            end
        end

        lastHP = bossHP.Health.Value
        task.wait(0.1)
    end

    print("üõë ‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏Å‡∏±‡∏ö‡∏ö‡∏≠‡∏™‡πÅ‡∏•‡πâ‡∏ß!")

    if isKillBossDone() then
        print("üèÜ ‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!")
    end
end




    ------------------------------------------------------------
    -- ‚è≥ WAIT FOR SpendTime (450) THEN TP
    ------------------------------------------------------------
    local function waitSpendTimeThenTP()
        print("‚è≥ ‡∏£‡∏≠ SpendTime Volcano ‡∏Ñ‡∏£‡∏ö 450 ...")

        while not isSpendTimeDone() do
            print("‚è≥ SpendTime:", getSpendTimeProgress(), "/450")
            task.wait(3)
        end

        print("üéâ SpendTime ‡∏Ñ‡∏£‡∏ö 450 ‡πÅ‡∏•‡πâ‡∏ß! ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ...")
    
    end

   task.spawn(function()

    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö Volcano FULL AUTO")

    ----------------------------------------------------
    -- 1) Egg
    ----------------------------------------------------
    if not isEggDone() then
        setCurrentMission("EggQuest")
        startEggQuest()
        while not isEggDone() do task.wait(1) end
    end
    print("ü•ö Egg ‚úî")

    ----------------------------------------------------
    -- 2) Kill mobs
    ----------------------------------------------------
    if not isKillDone() then
        setCurrentMission("KillMobs")
        startKillQuest()
        while not isKillDone() do task.wait(1) end
    end
    print("‚öîÔ∏è Kill Mobs ‚úî")

    ----------------------------------------------------
    -- 3) Harvest
    ----------------------------------------------------
    if not isHarvestDone() then
        setCurrentMission("Harvest")
        attackFoodNodes()
        while not isHarvestDone() do task.wait(1) end
    end
    print("üå≥ Harvest ‚úî")

    ----------------------------------------------------
    -- 4) Treasure Chest
    ----------------------------------------------------
    if not isTreasureDone() then
        setCurrentMission("TreasureChest")
        startAutoTeleportTreasure()
        while not isTreasureDone() do task.wait(1) end
        stopAutoTeleportTreasure()
    end
    print("üíé Treasure ‚úî")

    ----------------------------------------------------
    -- 5) Kill Boss (Volcano)
    ----------------------------------------------------
    if not isKillBossDone() then
        setCurrentMission("KillBoss")
        startBossFight()
        while not isKillBossDone() do task.wait(1) end
    end
    print("üêâ Kill Boss ‚úî")

    ----------------------------------------------------
    -- 6) SpendTime 450
    ----------------------------------------------------
    if not isSpendTimeDone() then
        setCurrentMission("SpendTime")
        print("‚è≥ ‡∏£‡∏≠ SpendTime Volcano ‡∏Ñ‡∏£‡∏ö 450 ...")
        while not isSpendTimeDone() do
            print("‚è≥ SpendTime:", getSpendTimeProgress(), "/450")
            task.wait(3)
        end
    end
    print("‚è≥ SpendTime ‚úî")

    setCurrentMission("Finished")

    print("üèÅ ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏≤‡∏ß‡πà‡∏≤‡πÇ‡∏•‡∏Å‡πÑ‡∏´‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à...")
    task.wait(4)
    teleportToNextNeededWorld()
end)
